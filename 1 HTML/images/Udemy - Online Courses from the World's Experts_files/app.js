!function(){function e(e){var t=function(e,n){var o=r({},t,n||{});return i(e,o)};return r(t,{language:"en",delimiter:", ",spacer:" ",units:["year","month","week","day","hour","minute","second"],languages:{},halfUnit:!0},e)}function t(e,t){return c(e,t)}function i(e,t){if(e=Math.abs(e),0===e)return"0";var i=t.languages[t.language]||u[t.language];if(!i)throw new Error("No language "+i+".");for(var r,o,s,c,d=[],l=0,m=t.units.length;m>l;l++){if(r=t.units[l],"s"===r[r.length-1]&&(r=r.substring(0,r.length-1)),o=a[r],0===d.length&&t.halfUnit&&(c=e/o*2,c===Math.floor(c)))return n(c/2,r,i,t.spacer);s=l+1===m?e/o:Math.floor(e/o),s&&d.push(n(s,r,i,t.spacer)),e-=s*o}return d.join(t.delimiter)}function n(e,t,i,n){var r,o=i[t];return r="function"==typeof o?o(e):o,e+n+r}function r(e){for(var t,i=1;i<arguments.length;i++){t=arguments[i];for(var n in t)e[n]=t[n]}return e}function o(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&4>=e%10&&!(e%100>10&&20>e%100)?2:3}function s(e){return Math.floor(e)!==e?2:0===e||e>=5&&20>=e||e%10>=5&&9>=e%10||e%10===0?0:1===e||e%10===1?1:e>1?2:0}var a={year:315576e5,month:26298e5,week:6048e5,day:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1},u={ca:{year:function(e){return"any"+(1!==e?"s":"")},month:function(e){return"mes"+(1!==e?"os":"")},week:function(e){return"setman"+(1!==e?"es":"a")},day:function(e){return"di"+(1!==e?"es":"a")},hour:function(e){return"hor"+(1!==e?"es":"a")},minute:function(e){return"minut"+(1!==e?"s":"")},second:function(e){return"segon"+(1!==e?"s":"")},millisecond:function(e){return"milisegon"+(1!==e?"s":"")}},da:{year:"år",month:function(e){return"måned"+(1!==e?"er":"")},week:function(e){return"uge"+(1!==e?"r":"")},day:function(e){return"dag"+(1!==e?"e":"")},hour:function(e){return"time"+(1!==e?"r":"")},minute:function(e){return"minut"+(1!==e?"ter":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},de:{year:function(e){return"jahr"+(1!==e?"e":"")},month:function(e){return"monat"+(1!==e?"e":"")},week:function(e){return"woche"+(1!==e?"n":"")},day:function(e){return"tag"+(1!==e?"e":"")},hour:function(e){return"stunde"+(1!==e?"n":"")},minute:function(e){return"minute"+(1!==e?"n":"")},second:function(e){return"sekunde"+(1!==e?"n":"")},millisecond:function(e){return"millisekunde"+(1!==e?"n":"")}},en:{year:function(e){return"year"+(1!==e?"s":"")},month:function(e){return"month"+(1!==e?"s":"")},week:function(e){return"week"+(1!==e?"s":"")},day:function(e){return"day"+(1!==e?"s":"")},hour:function(e){return"hour"+(1!==e?"s":"")},minute:function(e){return"minute"+(1!==e?"s":"")},second:function(e){return"second"+(1!==e?"s":"")},millisecond:function(e){return"millisecond"+(1!==e?"s":"")}},nl:{year:"jaar",month:function(e){return 1===e?"maand":"maanden"},week:function(e){return 1===e?"week":"weken"},day:function(e){return 1===e?"dag":"dagen"},hour:"uur",minute:function(e){return 1===e?"minuut":"minuten"},second:function(e){return 1===e?"seconde":"seconden"},millisecond:function(e){return 1===e?"milliseconde":"milliseconden"}},es:{year:function(e){return"año"+(1!==e?"s":"")},month:function(e){return"mes"+(1!==e?"es":"")},week:function(e){return"semana"+(1!==e?"s":"")},day:function(e){return"día"+(1!==e?"s":"")},hour:function(e){return"hora"+(1!==e?"s":"")},minute:function(e){return"minuto"+(1!==e?"s":"")},second:function(e){return"segundo"+(1!==e?"s":"")},millisecond:function(e){return"milisegundo"+(1!==e?"s":"")}},fr:{year:function(e){return"an"+(1!==e?"s":"")},month:"mois",week:function(e){return"semaine"+(1!==e?"s":"")},day:function(e){return"jour"+(1!==e?"s":"")},hour:function(e){return"heure"+(1!==e?"s":"")},minute:function(e){return"minute"+(1!==e?"s":"")},second:function(e){return"seconde"+(1!==e?"s":"")},millisecond:function(e){return"milliseconde"+(1!==e?"s":"")}},ja:{year:"年",month:"月",week:"週",day:"日",hour:"時間",minute:"分",second:"秒",millisecond:"ミリ秒"},ko:{year:"년",month:"개월",week:"주일",day:"일",hour:"시간",minute:"분",second:"초",millisecond:"밀리 초"},nob:{year:"år",month:function(e){return"måned"+(1!==e?"er":"")},week:function(e){return"uke"+(1!==e?"r":"")},day:function(e){return"dag"+(1!==e?"er":"")},hour:function(e){return"time"+(1!==e?"r":"")},minute:function(e){return"minutt"+(1!==e?"er":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},pl:{year:function(e){return["rok","roku","lata","lat"][o(e)]},month:function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][o(e)]},week:function(e){return["tydzień","tygodnia","tygodnie","tygodni"][o(e)]},day:function(e){return["dzień","dnia","dni","dni"][o(e)]},hour:function(e){return["godzina","godziny","godziny","godzin"][o(e)]},minute:function(e){return["minuta","minuty","minuty","minut"][o(e)]},second:function(e){return["sekunda","sekundy","sekundy","sekund"][o(e)]},millisecond:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][o(e)]}},pt:{year:function(e){return"ano"+(1!==e?"s":"")},month:function(e){return 1!==e?"meses":"mês"},week:function(e){return"semana"+(1!==e?"s":"")},day:function(e){return"dia"+(1!==e?"s":"")},hour:function(e){return"hora"+(1!==e?"s":"")},minute:function(e){return"minuto"+(1!==e?"s":"")},second:function(e){return"segundo"+(1!==e?"s":"")},millisecond:function(e){return"milissegundo"+(1!==e?"s":"")}},ru:{year:function(e){return["лет","год","года"][s(e)]},month:function(e){return["месяцев","месяц","месяца"][s(e)]},week:function(e){return["недель","неделя","недели"][s(e)]},day:function(e){return["дней","день","дня"][s(e)]},hour:function(e){return["часов","час","часа"][s(e)]},minute:function(e){return["минут","минута","минуты"][s(e)]},second:function(e){return["секунд","секунда","секунды"][s(e)]},millisecond:function(e){return["миллисекунд","миллисекунда","миллисекунды"][s(e)]}},sv:{year:"år",month:function(e){return"månad"+(1!==e?"er":"")},week:function(e){return"veck"+(1!==e?"or":"a")},day:function(e){return"dag"+(1!==e?"ar":"")},hour:function(e){return"timm"+(1!==e?"ar":"e")},minute:function(e){return"minut"+(1!==e?"er":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},tr:{year:"yıl",month:"ay",week:"hafta",day:"gün",hour:"saat",minute:"dakika",second:"saniye",millisecond:"milisaniye"},"zh-CN":{year:"年",month:"个月",week:"周",day:"天",hour:"小时",minute:"分钟",second:"秒",millisecond:"毫秒"},"zh-TW":{year:"年",month:"個月",week:"周",day:"天",hour:"小時",minute:"分鐘",second:"秒",millisecond:"毫秒"}},c=e({});t.humanizer=e,"undefined"!=typeof module?module.exports=t:this.humanizeDuration=t}(),define("humanize-duration",function(){}),function(e){define("angular-timer",["angular","moment","humanize-duration"],function(){return function(){var e=angular.module("timer");e.factory("I18nService",function(){var e=function(){};return e.prototype.language="en",e.prototype.timeHumanizer={},e.prototype.init=function(e){this.language=e,moment.locale(this.language),this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},e.prototype.getTimeUnits=function(e){var t=1e3*Math.round(e/1e3),i={};return"undefined"!=typeof this.timeHumanizer?i={millis:this.timeHumanizer(t,{units:["milliseconds"]}),seconds:this.timeHumanizer(t,{units:["seconds"]}),minutes:this.timeHumanizer(t,{units:["minutes","seconds"]}),hours:this.timeHumanizer(t,{units:["hours","minutes","seconds"]}),days:this.timeHumanizer(t,{units:["days","hours","minutes","seconds"]}),months:this.timeHumanizer(t,{units:["months","days","hours","minutes","seconds"]}),years:this.timeHumanizer(t,{units:["years","months","days","hours","minutes","seconds"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),i},e});var t=angular.module("timer",[]).directive("timer",["$compile",function(e){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",maxTimeUnit:"="},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate",function(t,i,n,r,o,s){function a(){t.timeoutId&&clearTimeout(t.timeoutId)}function u(){var e={};void 0!==n.startTime&&(t.millis=moment().diff(moment(t.startTimeAttr))),e=c.getTimeUnits(t.millis),t.maxTimeUnit&&"day"!==t.maxTimeUnit?"second"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3),t.minutes=0,t.hours=0,t.days=0,t.months=0,t.years=0):"minute"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4),t.hours=0,t.days=0,t.months=0,t.years=0):"hour"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5),t.days=0,t.months=0,t.years=0):"month"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30),t.years=0):"year"===t.maxTimeUnit&&(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30%12),t.years=Math.floor(t.millis/36e5/24/365)):(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24),t.months=0,t.years=0),t.secondsS=1===t.seconds?"":"s",t.minutesS=1===t.minutes?"":"s",t.hoursS=1===t.hours?"":"s",t.daysS=1===t.days?"":"s",t.monthsS=1===t.months?"":"s",t.yearsS=1===t.years?"":"s",t.secondUnit=e.seconds,t.minuteUnit=e.minutes,t.hourUnit=e.hours,t.dayUnit=e.days,t.monthUnit=e.months,t.yearUnit=e.years,t.sseconds=t.seconds<10?"0"+t.seconds:t.seconds,t.mminutes=t.minutes<10?"0"+t.minutes:t.minutes,t.hhours=t.hours<10?"0"+t.hours:t.hours,t.ddays=t.days<10?"0"+t.days:t.days,t.mmonths=t.months<10?"0"+t.months:t.months,t.yyears=t.years<10?"0"+t.years:t.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.autoStart=n.autoStart||n.autostart,t.language=t.language||"en",t.$watch("language",function(){c.init(t.language)});var c=new o;c.init(t.language),i.append(0===i.html().trim().length?e("<span>"+s.startSymbol()+"millis"+s.endSymbol()+"</span>")(t):e(i.contents())(t)),t.startTime=null,t.endTime=null,t.timeoutId=null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>=0?parseInt(t.countdownattr,10):void 0,t.isRunning=!1,t.$on("timer-start",function(){t.start()}),t.$on("timer-resume",function(){t.resume()}),t.$on("timer-stop",function(){t.stop()}),t.$on("timer-clear",function(){t.clear()}),t.$on("timer-reset",function(){t.reset()}),t.$on("timer-set-countdown",function(e,i){t.countdown=i}),t.$watch("startTimeAttr",function(e,i){e!==i&&t.isRunning&&t.start()}),t.start=i[0].start=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment(),t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null,t.countdown||(t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0),a(),d(),t.isRunning=!0},t.resume=i[0].resume=function(){a(),t.countdownattr&&(t.countdown+=1),t.startTime=moment().diff(moment(t.stoppedTime).diff(moment(t.startTime))),d(),t.isRunning=!0},t.stop=t.pause=i[0].stop=i[0].pause=function(){var e=t.timeoutId;t.clear(),t.$emit("timer-stopped",{timeoutId:e,millis:t.millis,seconds:t.seconds,minutes:t.minutes,hours:t.hours,days:t.days})},t.clear=i[0].clear=function(){t.stoppedTime=moment(),a(),t.timeoutId=null,t.isRunning=!1},t.reset=i[0].reset=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment(),t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0,a(),d(),t.isRunning=!1,t.clear()},i.bind("$destroy",function(){a(),t.isRunning=!1}),t.countdownattr?(t.millis=1e3*t.countdownattr,t.addCDSeconds=i[0].addCDSeconds=function(e){t.countdown+=e,t.$digest(),t.isRunning||t.start()},t.$on("timer-add-cd-seconds",function(e,i){r(function(){t.addCDSeconds(i)})}),t.$on("timer-set-countdown-seconds",function(e,i){t.isRunning||t.clear(),t.countdown=i,t.millis=1e3*i,u()})):t.millis=0,u();var d=function l(){t.millis=moment().diff(t.startTime);var e=t.millis%1e3;return t.endTimeAttr&&(t.millis=moment(t.endTime).diff(moment()),e=t.interval-t.millis%1e3),t.countdownattr&&(t.millis=1e3*t.countdown),t.millis<0?(t.stop(),t.millis=0,u(),void(t.finishCallback&&t.$eval(t.finishCallback))):(u(),t.timeoutId=setTimeout(function(){l(),t.$digest()},t.interval-e),t.$emit("timer-tick",{timeoutId:t.timeoutId,millis:t.millis}),void(t.countdown>0?t.countdown--:t.countdown<=0&&(t.stop(),t.finishCallback&&t.$eval(t.finishCallback))))};(void 0===t.autoStart||t.autoStart===!0)&&t.start()}]}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=t)}.apply(e,arguments)})}(this),define("course-taking-dashboard.app/../../ud-core",["angular","angular-sanitize","ud-config","ud-translate","ud-template"],function(e,t,i){"use strict";function n(e){i&&"PROD"===i.env&&e.debugInfoEnabled(!1)}var r=e.module("ud.core",["ngSanitize","udTemplate","udTranslate"]).constant("NG_APPS_URL","/staticx/udemy/js/ng/apps/").config(n);return n.$inject=["$compileProvider"],r}),define("ud.api",["jquery","jquery-migrate","jquery.cookie"],function(e){"use strict";UD.API={version:"api-1.1",getHeaders:function(){var t={};return t["X-Udemy-Snail-Case"]=!0,e.cookie("client_id")&&(t["X-Udemy-Client-Id"]=e.cookie("client_id")),e.cookie("access_token")?t["X-Udemy-Bearer-Token"]=e.cookie("access_token"):e.cookie("client_secret")&&(t["X-Udemy-Client-Secret"]=e.cookie("client_secret")),t},call:function(t,i){return e.ajax(e.extend(!0,{url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},i))},regularCall:function(t,i){return e.ajax(e.extend({url:UD.Config.url.to_root+t},i))}},UD.API.Lecture={create:function(e,t,i){UD.API.call("/lectures/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/lectures/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/lectures/"+e,{type:"PUT",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/lectures/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Quiz={create:function(e,t,i){UD.API.call("/quizzes/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/quizzes/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcaceGets=1,UD.API.call("/quizzes/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/quizzes/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Chapter={create:function(e,t,i){UD.API.call("/chapters/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/chapters/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/chapters/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/chapters/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Checkpoint={create:function(e,t,i){UD.API.call("/checkpoints/",{type:"POST",data:e,success:t,error:i})},read:function(e,t,i,n){UD.API.call("/checkpoints/"+e,{type:"GET",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/checkpoints/"+e,{type:"DELETE",success:t,error:i})}},UD.API.Asset={read:function(e,t,i,n){UD.API.call("/assets/"+e,{type:"GET",data:t,success:i,error:n})},update:function(e,t,i,n){t.method="PUT",t.disableMemcacheGets=1,UD.API.call("/assets/"+e,{type:"POST",data:t,success:i,error:n})},destroy:function(e,t,i){UD.API.call("/assets/"+e,{type:"POST",data:{method:"DELETE"},success:t,error:i})}},UD.API.Stat={increment:function(e,t,i,n){UD.API.call("/stats/"+e+"/increment",{type:"POST",data:{tags:t},success:i,error:n})},timing:function(e,t,i,n){UD.API.call("/stats/"+e+"/timing",{type:"POST",data:{time:t},success:i,error:n})}}}),define("ud.api.v2",["jquery","jquery-migrate","jquery.cookie"],function(e){"use strict";UD.API_V2={version:"api-2.0",getHeaders:function(){var t={};return e.cookie("access_token")&&(t.Authorization="Bearer "+e.cookie("access_token"),t["X-Udemy-Authorization"]=t.Authorization),t},call:function(t,i){return e.ajax(e.extend({url:UD.Config.url.to_root+this.version+t,headers:this.getHeaders(),dataType:"json"},i))}}}),define("course-taking-dashboard.app/../../config/http-interceptors",["jquery","ud.api","ud.api.v2"],function(e){"use strict";return["$httpProvider",function(t){var i=function(t){return void 0===t?t:e.param(t)};t.interceptors.push(function(){return{request:function(e){return e.url.search("/api-1.1/")>=0?(angular.extend(e.headers,UD.API.getHeaders()),e.headers["X-Udemy-Snail-Case"]=!1,e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"):e.url.search("/api-2.0/")>=0&&angular.extend(e.headers,UD.API_V2.getHeaders()),e.headers["Content-Type"]&&e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(e.transformRequest=i),e}}})}]}),angular.module("services").factory("Activity",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.defaultParams={"fields[user]":"url,image_50x50,title,job_title,num_visible_taught_courses,num_visible_subscribed_courses","fields[course]":"id","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@min,lecture,num_replies","fields[activity_comment]":"@default,-action"},t.getAll=function(t,i){var n={};return i&&i.length&&(n.id_in=i.join(",")),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,n)})},t.get=function(t,i){var n={};return e({url:"/api-2.0/courses/"+t+"/activities/"+i,method:"GET",params:angular.extend({},this.defaultParams,n)})},t.getAnnouncements=function(t,i,n){var r={action_object_object_type:"course_announcement"};return i&&(r.timestamp__lt=i),n&&(r.timestamp__gt=n),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getDiscussions=function(t,i,n){var r={action_object_object_type:"course_discussion"};return i&&(r.timestamp__lt=i),n&&(r.timestamp__gt=n),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getLectureDiscussions=function(t,i,n){var r={action_object_object_type:"course_discussion"};return t&&(r.timestamp__lt=t),i&&(r.timestamp__gt=i),e({url:"/api-2.0/lectures/"+n+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.deleteActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id,method:"DELETE"})},t.createComment=function(t,i,n){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments",method:"POST",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:n}})},t.updateComment=function(t,i,n,r){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments/"+n,method:"PUT",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:r}})},t.deleteComment=function(t,i,n){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments/"+n,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers/"+UD.me.id,method:"DELETE"})},t.followActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers/"+UD.me.id,method:"DELETE"})},t}]),define("course-taking-dashboard.app/../../services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.update=function(t,i){return e({url:"/api-1.1/announcements/"+t,method:"PUT",params:i})},t}]),define("course-taking-dashboard.app/../../services/Announcement",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){"use strict";var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.update=function(t,n,r){return e({url:"/api-1.1/discussions/"+t,method:"PUT",data:n,params:i.appendIgnoreWarningsParam(r)})},n.remove=function(t){return e({url:"/api-1.1/discussions/"+t,method:"DELETE"})},n.deleteDiscussionReply=function(t,i){return e({url:"/api-1.1/discussions/"+t+"/replies/"+i,method:"DELETE"})},n.addDiscussionReply=function(t,n,r){return e({url:"/api-1.1/discussions/"+t+"/replies",method:"POST",data:{body:n},params:i.appendIgnoreWarningsParam(r)})},n.updateDiscussionReply=function(t,n,r,o){return e({url:"/api-1.1/discussions/"+t+"/replies/"+n,method:"PUT",data:{body:r},params:i.appendIgnoreWarningsParam(o)})},n.getDiscussionReplies=function(t,i,n){return e({url:"/api-1.1/discussions/"+t+"/replies/",method:"GET",params:{p:i,pageSize:n}})},n}]),define("course-taking-dashboard.app/../../services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.isCourseAnnouncementRateLimitReached=function(t){return e.get("/api-1.1/users/me/rate-limits/course-announcement/",{params:{courseId:t}})};var i={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio","fields[user]":"@min"};return t.getTakingCourses=function(t,n,r){var o={page:t,page_size:n};return angular.extend(o,i),r&&(o.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.getTeachingCourses=function(t,i,n){var r={page:t,page_size:i,"fields[course]":"@default,earnings,status_label,is_private","fields[user]":"@min"};return n&&(r.search=n),e.get("/api-2.0/users/me/taught-courses",{params:r})},t.getWishlistedCourses=function(t,i,n){var r="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription",o={page:t,page_size:i,include_spam:"true","fields[course]":r,"fields[user]":"@min"};return n&&(o.search=n),e.get("/api-2.0/users/me/wishlisted-courses",{params:o})},t.getArchivedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,n,r,o){var s={page:t,page_size:n,min_progress:r,max_progress:o};return angular.extend(s,i),e.get("/api-2.0/users/me/subscribed-courses",{params:s})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:i})},t.unfavoriteCourse=function(t){return e["delete"]("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:i})},t.unarchiveCourse=function(t){return e["delete"]("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e["delete"]("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t}]),define("course-taking-dashboard.app/../../services/User",function(){}),angular.module("services").factory("Scroll",function(){"use strict";var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("course-taking-dashboard.app/../../services/Scroll",function(){}),define("ud.googleanalytics",["jquery","jquery-migrate"],function(){UD=UD||{},UD.GoogleAnalytics={trackEvent:function(e,t,i,n,r){if(_gaq&&e&&t){var o=["_trackEvent",e,t];i&&o.push(i),n&&o.push(parseInt(n)||0),r&&o.push(Boolean(n)),_gaq.push(o)}}}}),angular.module("services").factory("Onboarding",["$http","$rootScope",function(e,t){"use strict";var i=function(e){angular.extend(this,e)};return i.getOptions=function(t){return e({url:t,method:"GET"})},i.start=function(e,n,r){t.$watch("chaptersAndLectures",function(t){t&&e&&i.getOptions(e).success(function(e){e&&"false"!==e&&(require(["introjs","jquery","ud.googleanalytics"],function(t,i){var n=t();n.setOptions(e),n.start(),i(".introjs-nextbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","step-"+(n._currentStep-1)+"-next")}),i(".introjs-skipbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","exit")}),i(".start-tour-btn").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","start"),n.goToStep(2),window.scrollTo(0,0)}),r&&r(n)}),"undefined"!=typeof n&&n&&i.end(n))})},!0)},i.end=function(t){return e({url:t,method:"POST"})},i}]),define("course-taking-dashboard.app/../../services/Onboarding",function(){}),define("course-taking-dashboard.app/../../services/Utils",["angular"],function(e){"use strict";e.module("services",[]).factory("Utils",["$timeout","$q",function(t,i){var n=function(t){e.extend(this,t)};return n.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},n.removeItemFromArray=function(e,t){var i=t.indexOf(e);return 0>=i?(t.splice(i,1),!0):!1},n.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},n.convertParamToBool=function(e){return"true"===e||e>0},n.UdemyApiHelper={appendIgnoreWarningsParam:function(e,t){return t=t||{},t.ignoreWarnings=n.convertBoolToInt(e),t}},n.htmlTagsHasContent=function(e){return!!n.trimTags(e)},n.joinObjWithEnclosedTag=function(e,t){var i,n="";for(i in e)e.hasOwnProperty(i)&&(n+="<"+t+">"+e[i]+"</"+t+">");return n},n.debounce=function(e,n,r){var o,s=i.defer();return function(){var a=this,u=arguments,c=function(){o=null,r||(s.resolve(e.apply(a,u)),s=i.defer())},d=r&&!o;return o&&t.cancel(o),o=t(c,n),d&&(s.resolve(e.apply(a,u)),s=i.defer()),s.promise}},n}])}),define("course-taking-dashboard.app/../../services",["./services/Activity","./services/Announcement","./services/Discussion","./services/User","./services/Scroll","./services/Onboarding","./services/Utils"],function(){}),define("course-taking-dashboard.app/../../filters/jsonutils",["angular"],function(e){"use strict";e.module("filters",[]).filter("prettyJSON",function(){return function(e){var t,i=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"string"==i?t=JSON.parse(e):"object"==i&&(t=e),JSON.stringify(t,null,4)}})}),define("course-taking-dashboard.app/../../filters/htmlutils",["angular","jquery","../services/Utils"],function(e,t){"use strict";e.module("filters",[]).filter("textToHtml",function(){return function(e){if(!e)return e;e=t("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var i,n=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r=[],o=[];i=n.exec(e);)r.push(i.index),o.push(i[0]);if(0===r.length)return e;for(var s,a=e.substring(0,r[0]),u=0;u<r.length;u++)s=u+1<r.length?e.substring(r[u],r[u+1]):e.substring(r[u]),a+=s.replace(o[u],'<a href="'+o[u]+'" target="_blank">'+o[u]+"</a>");return a}}).filter("isStrippedHTMLEmpty",["Utils",function(e){return function(t){return!e.trimTags(t)}}]).filter("thousandsToK",function(){return function(e){return e>=1e3?(e=Math.round(e/100)/10,e.toString().replace(".0","")+"K"):e.toString()}}).filter("mysqlDate",["$filter",function(e){return function(t,i){var n=t.split(/[- :]/),r=new Date(n[0],n[1]-1,n[2],n[3]||0,n[4]||0,n[5]||0);return e("date")(r,i)}}]).filter("firstNameRestInitials",function(){return function(e){var t=e.split(" ");return t[0]+" "+t.slice(1).join(" ").replace(/(\S)\S*\s*/gi,"$1.")}})}),define("course-taking-dashboard.app/../../filters/moment",["angular","moment-timezone"],function(e,t){"use strict";t.locale(UD.me.locale),e.module("filters",[]).filter("fromNow",function(){return function(e){return e?t.tz(e,"America/Los_Angeles").subtract("seconds",3).fromNow():t().fromNow()}}).filter("humanize",function(){return function(e){var i=t.duration({seconds:e}),n=i.hours(),r=i.minutes(),o=i.seconds();return(n?n+":":"")+(10>r?"0"+r:r)+":"+(10>o?"0"+o:o)}})}),define("course-taking-dashboard.app/../../filters/fixurl",["angular","jsuri"],function(e,t){"use strict";e.module("filters",[]).filter("fixurl",function(){return function(e){var i=window.location.pathname,n=new t(e),r=n.path(),o=n.anchor();"/"===r.slice(-1)&&"/"!==i.slice(-1)&&n.setPath(r.substr(0,r.length-1)),"/"!==o.substr(0,1)&&n.setAnchor("/"+o);var s=new t(window.location),a=s.query().toString();return a&&n.setQuery(a),n.toString()}})}),define("course-taking-dashboard.app/../../filters/ceil",["angular"],function(e){"use strict";e.module("filters",[]).filter("ceil",[function(){return function(e){return Math.ceil(e)}}])}),define("course-taking-dashboard.app/../../filters/currency",["angular"],function(e){"use strict";e.module("filters",[]).filter("noFractionCurrency",["$filter","$locale",function(e,t){var i=e("currency"),n=t.NUMBER_FORMATS;return function(e,t){var r=i(e,t);return r.replace(new RegExp("\\"+n.DECIMAL_SEP+"\\d{2}"),"")}}])}),define("course-taking-dashboard.app/../../filters",["./filters/jsonutils","./filters/htmlutils","./filters/moment","./filters/fixurl","./filters/ceil","./filters/currency"],function(){}),define("course-taking-dashboard.app/../../directives/common/utils",["angular","jquery"],function(e,t){"use strict";e.module("directives").directive("preventClick",function(){return function(e,i){t(i).click(function(e){e.preventDefault()})}}).directive("stopPropagation",function(){return function(e,i,n){var r=e.$eval(n.stopCondition);r&&t(i).on(n.stopPropagation,function(e){e.stopPropagation()})}}).directive("initPopup",function(){return function(e,i){var n=["ud.popup"];require(n,function(){t(i).ud_popup()})}}).directive("initializeUdWidget",function(){return function(e,i,n){var r=n.moduleId,o=n.fname;require([r],function(){t(i)[o]()})}}).directive("initializeBootstrapTooltip",function(){return function(){require(["bootstrap"],function(){t('[data-toggle="tooltip"]').tooltip()})}}).directive("initializeUdPopupOnEvent",function(){return function(e,i,n){var r=n.initializeUdPopupOnEvent;e.$on(r,function(){var e=["ud.popup"];require(e,function(){t(i).ud_popup()})})}}).directive("initializeUdPopupOnValueChange",function(){return function(e,i,n){var r=n.initializeUdPopupOnValueChange;e.$watch(r,function(e){if(e){var n=["ud.popup"];require(n,function(){t(i).ud_popup()})}})}}).directive("textAreaExpand",function(){return function(e,t){require(["autosize"],function(e){e(t)})}}).directive("focusOn",["$timeout",function(e){return function(i,n,r){i.$watch(r.focusOn,function(o){o===!0&&e(function(){var e=t(n[0]).val();t(n[0]).focus().val("").val(e),i[r.focusOn]=!1})})}}]).directive("blurOn",["$timeout",function(e){return function(i,n,r){i.$watch(r.blurOn,function(o){o===!0&&e(function(){var e=t(n[0]).val();t(n[0]).blur().val("").val(e),i[r.blurOn]=!1})})}}]).directive("infiniteScroll",function(){return function(e,t,i){var n=t[0];setInterval(function(){n.scrollTop+n.offsetHeight+500>=n.scrollHeight&&e.$apply(i.infiniteScroll)},100)}}).directive("udMaxlength",function(){return{require:"ngModel",link:function(e,t,i,n){function r(e){return n.$setValidity("unique",e.length<=o),e}var o=Number(i.udMaxlength);n.$parsers.push(r)}}})}),define("course-taking-dashboard.app/../../directives/common/popup",["angular","jquery","jsuri"],function(e,t,i){"use strict";e.module("directives").directive("popup",["$timeout","$parse",function(e,n){return{scope:{open:"=?"},restrict:"EA",terminal:!0,link:function(r,o,s){var a;
s.beforeClose&&(a=function(){n(s.beforeClose)(r)});var u={scrolling:"auto",width:s.width||400,height:s.height||"auto",minWidth:s.width||400,minHeight:s.height||"auto",autoDimensions:!1,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,wrapCSS:"static-content-wrapper",beforeClose:function(){t("#fancybox-overlay").addClass("noopacity");var i=a?a():!0;return e(function(){r.$apply()},0),i}};if(s.href){u.type="ajax";var c=new i(s.href);c.addQueryParam("displayType","ajax"),u.href=c}o.css("display","block"),r.$watch("open",function(e){e&&(t.fancybox.open(o,u),r.open=!1)}),r.$watch(function(){return n(s.reposition)(r)},function(e){e&&t.fancybox.reposition()})}}}])}),define("course-taking-dashboard.app/../../directives/common/ajax-loader",["angular"],function(e){"use strict";e.module("directives",[]).directive("ajaxLoader",function(){return{restrict:"E",replace:!0,scope:{loading:"="},template:'<span ng-show="loading" class="ajax-loader-stick" style="padding: 0px 25px;"></span>'}})}),define("jquery-widget-init",["jquery","jquery-migrate","jquery.ui","bootstrap"],function(e){"use strict";var t=e.fn.button.noConflict();return e.fn.btn=t,Function.prototype.context=function(e){if(arguments.length<2&&"undefined"===arguments[0])return this;var t=this,i=arguments;return function(){for(var n=[],r=1;r<i.length;r++)n.push(i[r]);for(r=0;r<arguments.length;r++)n.push(arguments[r]);return t.apply(e,n)}},e}),define("ud.widget.mapping",[],function(){"use strict";var e={};return e[".input-table"]={mid:"ud.formtooltips",fname:"formTooltips"},e["[rel=isEmailValid]"]={mid:"ud.emailValidator",fname:"emailValidator"},e["#collapsible-menu"]={mid:"ud.collapse",fname:"collapseMenu"},e[".dropdownmenu"]={mid:"ud.dropdown",fname:"dropdownmenu"},e[".ud-country-select "]={mid:"ud.country-select",fname:"countrySelect"},e["input[type=radio].ud-star"]={mid:"jquery.rating",fname:"rating"},e[".ud-android-smart-banner"]={mid:"ud.android.smart.banner",fname:"ud_android_smart_banner"},e[".ud-articlecreator"]={mid:"ud.articlecreator",fname:"ud_articlecreator"},e[".ud-assetcreator"]={mid:"ud.assetcreator",fname:"ud_assetcreator"},e[".ud-assetcreator-externallink"]={mid:"ud.assetcreator.externallink",fname:"ud_assetcreator_externallink"},e[".ud-assetcreator-fileuploader"]={mid:"ud.assetcreator.fileuploader",fname:"ud_assetcreator_fileuploader"},e[".ud-audiocreator"]={mid:"ud.audiocreator",fname:"ud_audiocreator"},e[".ud-autocomplete"]={mid:"ud.autocomplete",fname:"ud_autocomplete"},e[".ud-autosuggestformitem"]={mid:"ud.autosuggestformitem",fname:"ud_autosuggestformitem"},e[".ud-banners"]={mid:"ud.banners",fname:"ud_banners"},e[".ud-bookmark"]={mid:"ud.bookmark",fname:"ud_bookmark"},e[".ud-bulletlistformitem"]={mid:"ud.bulletlistformitem",fname:"ud_bulletlistformitem"},e[".ud-buylicenses"]={mid:"ud.buylicenses",fname:"ud_buylicenses"},e[".ud-categorization"]={mid:"ud.categorization",fname:"ud_categorization"},e[".ud-collection-onelist"]={mid:"ud.collection.onelist",fname:"ud_collection_onelist"},e[".ud-newcouponcodeform"]={mid:"ud.newcouponcodeform",fname:"ud_newcouponcodeform"},e[".ud-couponcodes"]={mid:"ud.couponcodes",fname:"ud_couponcodes"},e[".ud-coursecarousel"]={mid:"ud.coursecarousel",fname:"ud_coursecarousel"},e[".ud-content-loader"]={mid:"ud.content.loader",fname:"ud_content_loader"},e[".ud-courseimpressiontracker"]={mid:"ud.courseimpressiontracker",fname:"ud_courseimpressiontracker"},e[".ud-courseprivacyformitem"]={mid:"ud.courseprivacyformitem",fname:"ud_courseprivacyformitem"},e[".ud-newcreditcard"]={mid:"ud.newcreditcard",fname:"ud_newcreditcard"},e[".ud-newcreditcardexpirationformitem"]={mid:"ud.newcreditcardexpirationformitem",fname:"ud_newcreditcardexpirationformitem"},e[".ud-curriculumform"]={mid:"ud.curriculumform",fname:"ud_curriculumform"},e[".ud-dashboard"]={mid:"ud.dashboard",fname:"ud_dashboard"},e[".ud-quiz-view"]={mid:"ud.quiz.view",fname:"ud_quiz_view"},e[".ud-demo"]={mid:"ud.demo",fname:"ud_demo"},e[".ud-disqus"]={mid:"ud.disqus",fname:"ud_disqus"},e[".ud-ebookcreator"]={mid:"ud.ebookcreator",fname:"ud_ebookcreator"},e[".ud-ebookviewer"]={mid:"ud.ebookviewer",fname:"ud_ebookviewer"},e[".ud-extras"]={mid:"ud.extras",fname:"ud_extras"},e[".ud-fileupload"]={mid:"ud.fileupload",fname:"ud_fileupload"},e[".ud-fileuploadform"]={mid:"ud.fileuploadform",fname:"ud_fileuploadform"},e[".ud-s3upload"]={mid:"ud.s3upload",fname:"ud_s3upload"},e[".ud-s3videouploadform"]={mid:"ud.s3videouploadform",fname:"ud_s3videouploadform"},e[".ud-legacy-formajaxify"]={mid:"ud.legacy.formajaxify",fname:"ud_legacy_formajaxify"},e[".ud-form"]={mid:"ud.form",fname:"ud_form"},e[".ud-gift-card"]={mid:"ud.giftcard",fname:"ud_giftcard"},e[".ud-jwplayer-communicator"]={mid:"ud.jwplayer.communicator",fname:"ud_jwplayer_communicator"},e[".ud-iframecreator"]={mid:"ud.iframecreator",fname:"ud_iframecreator"},e[".ud-imageuploader"]={mid:"ud.imageuploader",fname:"ud_imageuploader"},e[".ud-imageuploadwithpreview"]={mid:"ud.imageuploadwithpreview",fname:"ud_imageuploadwithpreview"},e[".ud-importcontent"]={mid:"ud.importcontent",fname:"ud_importcontent"},e[".ud-inplaceeditor"]={mid:"ud.inplaceeditor",fname:"ud_inplaceeditor"},e[".ud-inplacenoteeditor"]={mid:"ud.inplacenoteeditor",fname:"ud_inplacenoteeditor"},e[".ud-intelligence"]={mid:"ud.intelligence",fname:"ud_intelligence"},e[".ud-intelligence-dropdown"]={mid:"ud.intelligence.dropdown",fname:"ud_intelligence_dropdown"},e[".ud-invitationrequest"]={mid:"ud.invitationrequest",fname:"ud_invitationrequest"},e[".ud-jwplayer"]={mid:"ud.jwplayer",fname:"ud_jwplayer"},e[".ud-landingpage-curriculum"]={mid:"ud.landingpage.curriculum",fname:"ud_landingpage_curriculum"},e[".ud-loader"]={mid:"ud.loader",fname:"ud_loader"},e[".ud-locale-setting"]={mid:"ud.locale.setting",fname:"ud_locale_setting"},e[".ud-manageinstructors"]={mid:"ud.manageinstructors",fname:"ud_manageinstructors"},e[".ud-mashupcreator"]={mid:"ud.mashupcreator",fname:"ud_mashupcreator"},e[".ud-message"]={mid:"ud.message",fname:"ud_message"},e[".ud-multiplechoicequestionformitem"]={mid:"ud.multiplechoicequestionformitem",fname:"ud_multiplechoicequestionformitem"},e[".ud-notetaking"]={mid:"ud.notetaking",fname:"ud_notetaking"},e[".ud-notifications"]={mid:"ud.notifications",fname:"ud_notifications"},e[".ud-page"]={mid:"ud.page",fname:"ud_page"},e[".ud-floatingmenu"]={mid:"ud.floatingmenu",fname:"ud_floatingmenu"},e[".ud-pagination"]={mid:"ud.pagination",fname:"ud_pagination"},e[".ud-paymentreport"]={mid:"ud.paymentreport",fname:"ud_paymentreport"},e[".ud-scormplayer"]={mid:"ud.scormplayer",fname:"ud_scormplayer"},e[".ud-statementdetail"]={mid:"ud.statementdetail",fname:"ud_statementdetail"},e[".ud-newpayment"]={mid:"ud.newpayment",fname:"ud_newpayment"},e[".ud-popover"]={mid:"ud.popover",fname:"ud_popover"},e[".ud-piechart"]={mid:"ud.piechart",fname:"ud_piechart"},e[".ud-toggler"]={mid:"ud.toggler",fname:"ud_toggler"},e[".ud-popup"]={mid:"ud.popup",fname:"ud_popup"},e[".ud-popupcoursesubmit"]={mid:"ud.popupcoursesubmit",fname:"ud_popupcoursesubmit"},e[".ud-sharebutton"]={mid:"ud.sharebutton",fname:"ud_sharebutton"},e[".ud-presentationcreator"]={mid:"ud.presentationcreator",fname:"ud_presentationcreator"},e[".ud-presentationviewer"]={mid:"ud.presentationviewer",fname:"ud_presentationviewer"},e[".ud-promotion"]={mid:"ud.promotion",fname:"ud_promotion"},e[".ud-readmore"]={mid:"ud.readmore",fname:"ud_readmore"},e[".ud-report"]={mid:"ud.report",fname:"ud_report"},e[".ud-search"]={mid:"ud.search",fname:"ud_search"},e[".ud-formajax"]={mid:"ud.formajax",fname:"ud_formajax"},e[".ud-announcement"]={mid:"ud.announcement",fname:"ud_announcement"},e[".ud-seologger"]={mid:"ud.seologger",fname:"ud_seologger"},e[".ud-slider"]={mid:"ud.slider",fname:"ud_slider"},e[".ud-signin-form"]={mid:"ud.signin.form",fname:"ud_signin_form"},e[".ud-signup-emailonly"]={mid:"ud.signup.emailonly",fname:"ud_signup_emailonly"},e[".ud-test-asset-comments"]={mid:"ud.testasset.comments",fname:"ud_testasset_comments"},e[".ud-errorpage"]={mid:"ud.errorpage",fname:"ud_errorpage"},e[".ud-template"]={mid:"ud.template",fname:"ud_template"},e[".ud-textexpander"]={mid:"ud.textexpander",fname:"ud_textexpander"},e[".ud-textinput"]={mid:"ud.textinput",fname:"ud_textinput"},e[".ud-tabsformitem"]={mid:"ud.tabsformitem",fname:"ud_tabsformitem"},e[".ud-thumbnailselector"]={mid:"ud.thumbnailselector",fname:"ud_thumbnailselector"},e[".ud-smsmobileapp"]={mid:"ud.smsmobileapp",fname:"ud_smsmobileapp"},e[".ud-updatecreditcards"]={mid:"ud.updatecreditcards",fname:"ud_updatecreditcards"},e[".ud-urltextformitem"]={mid:"ud.urltextformitem",fname:"ud_urltextformitem"},e[".ud-useremailsettingsform"]={mid:"ud.useremailsettingsform",fname:"ud_useremailsettingsform"},e[".ud-usertracker"]={mid:"ud.usertracker",fname:"ud_usertracker"},e[".ud-discover-tracker"]={mid:"ud.discover.tracker",fname:"ud_discover_tracker"},e[".ud-videocreator"]={mid:"ud.videocreator",fname:"ud_videocreator"},e[".ud-videouploadwithpreview"]={mid:"ud.videouploadwithpreview",fname:"ud_videouploadwithpreview"},e[".ud-s3videouploadwithpreview"]={mid:"ud.s3videouploadwithpreview",fname:"ud_s3videouploadwithpreview"},e[".ud-windowpopup"]={mid:"ud.windowpopup",fname:"ud_windowpopup"},e[".ud-wishlist"]={mid:"ud.wishlist",fname:"ud_wishlist"},e[".ud-wysiwyg"]={mid:"ud.wysiwyg",fname:"ud_wysiwyg"},e['[class*="ud-jq-"]']={mid:"ud.jqelement",fname:"ud_jqelement"},e[".ud-angular-loader"]={mid:"ud.angular-loader",fname:"ud_angular_loader"},e[".ud-organization-analytics"]={mid:"ud.organization.analytics",fname:"ud_organization_analytics"},e[".ud-organization-manageusersandgroups"]={mid:"ud.organization.manageusersandgroups",fname:"ud_organization_manageusersandgroups"},e[".ud-organization-managegroup"]={mid:"ud.organization.managegroup",fname:"ud_organization_managegroup"},e[".ud-organization-invitenewusers"]={mid:"ud.organization.invitenewusers",fname:"ud_organization_invitenewusers"},e[".ud-organization-editusergroups"]={mid:"ud.organization.editusergroups",fname:"ud_organization_editusergroups"},e[".ud-organization-managecourses"]={mid:"ud.organization.managecourses",fname:"ud_organization_managecourses"},e[".ud-organization-publishcourse"]={mid:"ud.organization.publishcourse",fname:"ud_organization_publishcourse"},e[".ud-organization-managesubscription"]={mid:"ud.organization.managesubscription",fname:"ud_organization_managesubscription"},e[".ud-organization-managebilling"]={mid:"ud.organization.managebilling",fname:"ud_organization_managebilling"},e[".ud-apiblock"]={mid:"ud.apiblock",fname:"ud_apiblock"},e[".ud-collection-listnewcourse"]={mid:"ud.collection.listnewcourse",fname:"ud_collection_listnewcourse"},e[".ud-userlist"]={mid:"ud.userlist",fname:"ud_userlist"},e[".ud-admin-managestatement"]={mid:"ud.admin.managestatement",fname:"ud_admin_managestatement"},e[".model-hellobar #hellobar_form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},e[".model-hellobarstandalone #hellobarstandalone_form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},e[".model-promotion #promotion_form"]={mid:"ud.admin.promotion.form",fname:"ud_admin_promotion_form"},e[".ud-google-plus-signup-social"]={mid:"ud.google.plus.signup.social",fname:"ud_google_plus_signup_social"},e[".ud-facebook-signup"]={mid:"ud.facebook.signup",fname:"ud_facebook_signup"},e[".ud-first-timer"]={mid:"ud.first.timer",fname:"ud_first_timer"},e[".ud-styleguide-navscroll"]={mid:"ud.styleguide.navscroll",fname:"ud_styleguide_navscroll"},e[".ud-date-time-form-item"]={mid:"ud.date.time.form.item",fname:"ud_date_time"},e[".ud-date-form-item"]={mid:"ud.date.form.item",fname:"ud_date"},e}),define("ud.page",["jquery-widget-init","ud-link","jsuri","jquery.ba-throttle-debounce"],function(e,t,i){e.widget("ud.ud_page",{options:{pages:[]},_create:function(){if(this.element.data("page-name")){this.options.pages=this.element.data("page-name").split(",");for(var e=0;e<this.options.pages.length;e++)"undefined"!=typeof this._pages[this.options.pages[e]]&&this._pages[this.options.pages[e]].apply(this)}window.tmp=this},destroy:function(){},_pages:{}}),e.extend(e.ud.ud_page.prototype._pages,{"import-content":function(){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").show(),this.element.find("#title").val()||this.element.find("#title").val(t.title),this.element.find("#description").val()||this.element.find("#description").val(t.description)}.context(this))},"quick-import-content":function(){this.element.find("button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("#title").val(t.title),this.element.find("#description").val(t.description),this.element.find("button").show()}.context(this))},"message-delete-icon-hover":function(){this.element.hover(function(){e(this).find(".delete").show()},function(){e(this).find(".delete").hide()})},"admin-affiliate-approval":function(){this.element.click(function(t){t.preventDefault(),e.ajax({url:e(t.currentTarget).attr("href")}).success(function(i){UD.Utils.Feedback.fromText(i,"info"),e(t.currentTarget).parent().html('<span class="text-success">Done</span>')}).fail(function(i){UD.Utils.Feedback.fromText(i.responseText,"error"),e(t.currentTarget).parent().html('<span class="text-danger"><i class="icon-warning-sign text-danger"></i> Error</span>')})}.context(this))},"admin-reset-password":function(){this.element.click(function(){var t=this.element.parent().children(".resetPasswordResult");t.text("...");var i={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetPassword",i,function(e){t.html(e)})}.context(this))},"admin-reset-certificate":function(){this.element.click(function(){if(confirm("Are you sure you want to reset this certificate?")){var t=this.element.parent(".resetLinkContainer");t.text("..."),e.post("/apps/admin/certificate/reset",{certificateId:this.element.data("certificateId")},function(e){t.html(e)})}}.context(this))},"admin-reset-website-token":function(){this.element.click(function(){var t=this.element.parent().children(".resetWebsiteTokenResult");t.text("...");var i={userId:this.element.data("userId"),userEmail:this.element.data("userEmail")};e.post("/apps/admin/user/resetWebsiteToken",i,function(e){t.html(e)})}.context(this))},"admin-course-update-organization":function(){this.element.click(function(){var t=this.element.parent().children(".result"),i=0;t.text("..."),""!==this.element.parent().find("#organizationId-text").val().trim()&&(i=this.element.parent().children("#update-source-organization-form").find("#organizationId").val());var n={courseId:this.element.data("courseId"),organizationId:i};e.post("/apps/admin/course/updateOrganization",n,function(e){t.html(e)})}.context(this))},"admin-course-update-subcategory":function(){this.element.parent().on("course_subcategory_changed",function(){e("#form-item-isLocked",this.element).removeClass("none")}),this.element.click(function(){var t=this.element.parent().children(".result"),i=this.element.parent().children("#update-course-subcategory-form"),n=i.find("#courseSubcategoryId").val(),r=i.find("#isLocked").is(":checked")?1:0;if(t.html("..."),n){var o={courseId:this.element.data("courseId"),courseSubcategoryId:n,isLocked:r};e.post("/apps/admin/course/updateCourseSubcategory",o,function(e){t.html(e)})}else t.html("Please select a subcategory!")}.context(this))},"admin-generate-change-password-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-change-password-link-result"),i=this.element;t.text("..."),e.post("/apps/admin/user/generateChangePasswordLink",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-generate-backdoor-link":function(){this.element.click(function(){var t=this.element.parent().children(".generate-backdoor-link-result"),i=this.element;t.text("..."),e.post("/apps/admin/user/generateBackdoorLink",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-activate-user-email":function(){this.element.click(function(){var t=this.element.parent().children(".user-email-status"),i=this.element;t.text("..."),e.post("/apps/admin/user/activateUserEmail",{userId:i.data("userId")},function(e){t.html(e),i.remove()})}.context(this))},"admin-mark-as-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".markingResult");t.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/mark-as-fraudster",i,function(e){t.html(e)})}.context(this))},"admin-unmark-fraudster":function(){this.element.click(function(){var t=this.element.parent().children(".unmarkingResult");t.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/unmark-fraudster",i,function(e){t.html(e)})}.context(this))},"admin-send-receipt":function(){this.element.click(function(){var t=this.element.parent().children(".sendReceiptResult");t.text("...");var i={transactionId:this.element.data("transactionId")};e.post("/apps/admin/user/send-receipt",i,function(e){t.html(e)})}.context(this))},"admin-copy-dispute-response":function(){this.element.click(function(){var t={transactionId:this.element.data("transactionId")};e.post("/apps/admin/manage-user-payment/generateDisputeInfo",t,function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)})}.context(this))},"admin-block-transaction-courses":function(){this.element.click(function(){var t=this.element,i=t.parent().children(".result");i.text("...");var n=t.data("blockStatus"),r={transactionId:t.data("transactionId"),blockStatus:n};e.post("/apps/admin/manage-user-payment/updateBlockStatus",r,function(e){i.html(e),n?(t.data("blockStatus",0),t.text("Unblock")):(t.data("blockStatus",1),t.text("Block"))})}.context(this))},"admin-test-asset-starred-form":function(){this.element.on("submit",function(){return e.post(this.element.attr("action"),this.element.serialize(),function(e){this.element.next().html(e)}.context(this),"json"),!1}.context(this)),this.element.find("input[type=checkbox]").on("change",function(){this.element.submit()}.context(this))},"admin-collection-memcache-reset-link":function(){this.element.click(function(){var t=this.element.parent().children(".collection-memcache-reset-result"),i=this.element;t.text("..."),e.post("/apps/admin/collection/resetCollectionMemcache",{collectionId:i.data("collectionId")},function(e){t.html(e),i.remove()})}.context(this))},"init-price-form":function(){var t=this.element.find("form"),i=function(){var e=t.find('input[name="isPremium"]:checked');0!==e.length&&("Yes"==e.attr("value")?(t.find("#form-item-initPrice").show(),t.find("#form-item-recurringPrice").show()):(t.find("#form-item-initPrice").hide(),t.find("#form-item-recurringPrice").hide()))};t.find("#form-item-isPremium input").each(function(){e(this).change(function(){i()})}),i()},"remove-links":function(){this.element.find("a").click(function(e){e.preventDefault()})},"test-video-toggle-form-button":function(){this.element.on("click",function(){var t=e(".test-video-form");t.is(":hidden")?t.slideDown():t.slideUp()})},"toggle-change-price-form":function(){var t=300,i=this.element.find(".change-pricing"),n=this.element.find(".show-pricing");e(".toggle-price-form").on("click",e.debounce(100,function(){n.slideToggle(t,function(){i.slideToggle(t),i.css("display","block")})}).context(this)),e(".change-pricing .cancel-link").on("click",e.debounce(100,function(){i.slideToggle(t,function(){n.slideToggle(t),n.css("display","block")})}).context(this))},"mark-announcement-as-read":function(){this.element.find(".unread").click(function(t){e(t.currentTarget).removeClass("unread"),e(t.currentTarget).addClass("read")})},"resize-course-title-page-element":function(){var t=function(){var t=this.element,i=0;marginTop=t.outerHeight(!0)-t.innerHeight(),t.siblings("div").each(function(){i+=e(this).outerHeight(!0)});var n=t.parent().height(),r=n-i;t.height(r);var o=t.height(),s=0,a=!0,u=0;do u=s,s=0,a=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)<60?parseInt(fontSize)+1:parseInt(fontSize):parseInt(fontSize)<42?parseInt(fontSize)+1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),s+=e(this).outerHeight(!0)}),s==u&&(a=!1);while(a&&o>s);do u=s,s=0,a=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),fontSize=e(this).is("h1")?parseInt(fontSize)>24?parseInt(fontSize)-1:parseInt(fontSize):parseInt(fontSize)>12?parseInt(fontSize)-1:parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),s+=e(this).outerHeight(!0)}),s==u&&(a=!1);while(a&&s>o);var c=o-s;this.element.children(":nth-child(1)").css("marginBottom",c/2+"px")}.context(this);t(),e(window).resize(t)},"ajaxify-pagination":function(){e("li[class*=navigation-] a",this.element).live("click",function(){var t=e(this);t.closest(".slider-pagination").addClass("on");var i=t.attr("href");return e.ajax({type:"GET",url:i+"&displayType=ajax",success:function(e){t.closest(".courses").replaceWith(e)}}),!1})},"clear-notifications":function(){var t=this;this.element.click(function(i){var n=t.element.data("num");t.element.closest("#notifications").hide(),e("#dashboard-controller")&&e("#dashboard-controller").find("li.selected .notifier").hide(),e("#u_bar").find(".my-courses-dropdown")&&(e("#u_bar").find(".my-courses-dropdown:first").find("b").text(--n),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("b").text()&&e("#u_bar").find(".my-courses-dropdown").find("b").hide(),e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier")&&(e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text(--n),"0"==e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").text()&&e("#u_bar").find(".my-courses-dropdown:first").find("li.selected .notifier").hide())),e.ajax({type:"GET",url:t.element.attr("href")}),i.preventDefault()})},"settings-page":function(){"disableAllEmails"==e("input#disableAllEmails",this.element).attr("id")&&e("input#disableAllEmails",this.element).attr("checked")&&this.element.find(".settings-form-l2 input[type=checkbox]").attr("disabled","disabled"),e("input,select",this.element).change(function(t){e(t.target).parents("form").find("button").removeClass("disabled")}),e("input#disableAllEmails",this.element).change(function(t){e(t.target).attr("checked")?e("#general-notification-settings input[type=checkbox]",this.element).attr("disabled","disabled"):e("#general-notification-settings input[type=checkbox]",this.element).removeAttr("disabled")}.context(this))},"categorized-select":function(){var t=this.element;t.hide();var i=t.find("option"),n={},r={},o=[],s="",a=e('<select style="width:auto"></select>');a.append('<option selected="selected" value="">-- Select One --</option>'),e("body").append(a);var u;e.each(i,function(t){if(0!=t)var i=e(this).attr("category");e(this).attr("selected")&&(o=e(this).val(),0!=t&&(s=i)),0!=t&&(n[i]||(n[i]=[],r[i]=[],a.append('<option value="'+i+'">'+i+"</option>")),n[i].push(e(this)),r[i].push(e(this).text()))});var u=e("<span>&nbsp;&gt;&nbsp;</span>");u.hide(),t.before(a).before(u);var c=function(i){t.html(""),i?(t.append('<option selected="selected" value="">-- Select One --</option>'),e.each(n[i],function(e){var n="";o==this.val()&&(t.children().removeAttr("selected"),n='selected="selected"'),t.append('<option category="'+i+'" value="'+this.val()+'" '+n+">"+r[i][e]+"</option>")}),u.show(),u.css("display","inline"),t.show()):(t.hide(),u.hide())};a.change(function(t){c(e(t.target).val())}),s&&(a.val(s),c(s))},"make-all-downloadable":function(){e("input[name=CheckAll]",this.element).click(function(){e("input[type=checkbox]").attr("checked","checked")}),e("input[name=UnCheckAll]",this.element).click(function(){e("input[type=checkbox]").removeAttr("checked")})},"manage-lectures":function(){e(".lectures li.certificate").hover(function(){e.each(e(this).attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).addClass("highlighted")})},function(){e.each(e(this).attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).removeClass("highlighted")})}),e("#sortable-lectures-list a.deleteItem").click(function(){var i=this.rel,r=e(this).closest("li"),o=e(this).closest("ul");if(r.addClass("deleting"),r.hasClass("chapter"))var s=1;if(s)var a=t.to("lecture","delete-chapter",{chapterId:i,displayType:"ajax"});else var a=t.to("lecture","delete",{lectureId:i,displayType:"ajax"});if(s)var u=confirm("Are you sure you want to remove this chapter?");else var u=confirm("Are you sure you want to remove this lecture?");return u&&e.post(a,function(){r.fadeOut(function(){n(o)})}),!1});var i=function(e){e.sortable({update:function(){n(e)}})}.context(this),n=function(t){e.post(this.element.data("post-url"),t.sortable("serialize"),function(){var t=0,i=!1,n=0;e.each(e("#sortable-lectures-list li"),function(r,o){e(this).hasClass("lecture")?(e(".lecture-index",this).text(t+=1),i&&e(this).hasClass("chaptered")?e(this).addClass("chaptered"):!i&&e(this).hasClass("chaptered")&&e(this).removeClass("chaptered")):e(this).hasClass("chapter")&&(i=!0,n=o+1,t=0)}),e("#sortable-lectures-list li").removeClass("deleting")})}.context(this);i(e("#sortable-lectures-list")),e(".highlight-requirements a").click(function(){"highlight requirements"==e(this).text()?(e(this).text("unhighlight requirements"),e(this).closest("div").removeClass("highlight-requirements"),e(this).closest("div").addClass("unhighlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).addClass("constant-highlighted")}),e(this).closest(".highlighted-links").addClass("constant-highlighted-links")):"unhighlight requirements"==e(this).text()&&(e(this).text("highlight requirements"),e(this).closest("div").removeClass("unhighlight-requirements"),e(this).closest("div").addClass("highlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,i){e("#lecture_lec"+i).removeClass("constant-highlighted")}),e(this).closest(".highlighted-links").removeClass("constant-highlighted-links"))})},"date-form-item-opts":function(){var t=this.element.data("disable-weekdays"),i=this.element.data("disable-pastdays"),n=this.element.data("disable-pastmonths"),r=this.element.data("weekdays");this.element.siblings("#"+this.element.data("id")).datepicker("option","beforeShowDay",function(o){if(res=[!0],t)for(var s=o.getDay(),a=0;a<r.length;a++)-1!=e.inArray(s,r)&&(res=[!1]);if(i){var u=new Date;u.setDate(u.getDate()-1);var c=u.getTime()+6e4*u.getTimezoneOffset(),d=new Date(c+-288e5);d>=o&&(res=[!1])}if(n){{var l=new Date;o.getMonth()}l.setDate(0),l>o&&(res=[!1])}return res})},"payment-report":function(){function t(){var t=S.element.data("month"),i=S.element.data("course"),n=e("#dashboard-content").data("userid"),r="?userId="+n;return t&&(r+="&month="+t),i&&(r+="&course="+i),r}function i(e,t){var i=e.split("="),n=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]);return n==t?r:null}function n(){require(["jquery.jqGrid"],function(){var e=c("sale-type"),i=t(),n=c(D),o=c(C),s=c(E);r(p+i,v,w,T,D,n),r(g+i,y,_,x,C,o),e&&"all"!=e?(r(f+i+"&saleType="+e,h,b,k,E,s),l("#"+e)):r(f+i,h,b,k,E,s)})}function r(t,i,n,r,o,a){return t.length<=0?!1:((!a||0>=a)&&(a=1),void e.ajax({type:"GET",url:i,data:"",dataType:"json",success:function(i){colNames=i.colNames,colModel=i.colModel,tableCaption=i.caption,require(["jquery.jqGrid"],function(){e(n).jqGrid("GridUnload"),e(n).jqGrid({url:t,datatype:"json",height:"100%",autowidth:!0,pager:r,rowNum:30,rowList:[10,20,30,40,50],colNames:colNames,colModel:colModel,viewrecords:!0,shrinkToFit:!0,caption:tableCaption,page:a,emptyDataText:"No records to view!",cellattr:function(){return'style="white-space: normal;'},gridComplete:function(){0==e(n).getGridParam("records")&&s(n)},onPaging:function(){var t=e(n).getGridParam("page");d(o,t)}}),e(n).jqGrid("navGrid",r,{edit:!1,add:!1,del:!1})}.context(this))}.context(this)}))}function o(e){return e.length>0&&"#"===e[0]&&(e=e.substr(1)),e}function s(t){var i=e(t),n=i.getGridParam("emptyDataText"),r=i.parents(".ui-jqgrid-view");r.find(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv").hide(),r.find(".ui-jqgrid-titlebar").after(""+n)}function a(){var e=document.location.hash;return o(e)}function u(e){window.location.hash=e}function c(e){var t=a(),n=null;if(t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#"))),t.indexOf(",")>-1)for(var r=t.split(","),o=0;o<r.length&&(n=i(r[o],e),null===n);o++);else n=i(t,e);return n}function d(e,t){var n=a(),r=e+"="+t;if(n.length<=0)return void u(r);if(c(e)){for(var o=n.split(","),s=0;s<o.length;s++)if(i(o[s],e)){o[s]=r;break}n=o[0];for(var s=1;s<o.length;s++)n+=","+o[s]}else n+=","+r;u(n)}function l(t){e("#all-tran").attr("class","btn"),e("#coupon").attr("class","btn"),e("#company-coupon").attr("class","btn"),e("#deal").attr("class","btn"),e("#organic").attr("class","btn"),e("#promotion").attr("class","btn"),e("#ad-program").attr("class","btn"),e("#mobile-ad-program").attr("class","btn"),e("#in-app-purchase").attr("class","btn"),e("#email-marketing").attr("class","btn"),e("#affiliate").attr("class","btn"),e(t).attr("class","btn btn-info")}function m(e){var i=e.data.filterType,n=f;n+=t(),n+="&saleType="+i,r(n,h,b,k,E,1),l("all"==i?"#all-tran":"#"+i),d("sale-type",i),d(E,"1")}var f="/dashboard/get-subscriber-transactions",p="/dashboard/get-refunds",g="/dashboard/get-deal-payments",h="/dashboard/transaction-table-info.html",v="/dashboard/refunds-table-info.html",y="/dashboard/deal-payments-table-info.html",b="#transaction-table",w="#refund-table",_="#dealpayment-table",k="#tr-pager",T="#ref-pager",x="#deal-pager",E="tr-page",C="deal-page",D="ref-page",S=this;e("#all-tran",this.element).click({filterType:"all"},m),e("#coupon",this.element).click({filterType:"coupon"},m),e("#company-coupon",this.element).click({filterType:"company-coupon"},m),e("#deal",this.element).click({filterType:"deal"},m),e("#organic",this.element).click({filterType:"organic"},m),e("#promotion",this.element).click({filterType:"promotion"},m),e("#ad-program",this.element).click({filterType:"ad-program"},m),e("#mobile-ad-program",this.element).click({filterType:"mobile-ad-program"},m),e("#in-app-purchase",this.element).click({filterType:"in-app-purchase"},m),e("#email-marketing",this.element).click({filterType:"email-marketing"},m),e("#affiliate",this.element).click({filterType:"affiliate"},m),n()},"feedbacks-bar":function(){var t=this.element.find("div.feedback-bar");t.each(function(t,i){e(i).hide(),e(i).click(function(){e(this).dequeue()})});var i=function(t,n){e(t[n]).slideDown({duration:"slow",queue:!1}).delay(4e3).slideUp("slow",function(){n<t.length-1?i(t,n+1):this.element.hide()}.context(this))}.context(this);this.element.show(),setTimeout(function(){i(t,0)}.context(this),2e3)},"admin-request-approval-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault();var i=e(e(t.target).find("textarea")[0]),n=e(t.target).find("input");if(n.each(function(){return"Rejected"==e(this).val()?(n=e(this),!1):void 0}),""==i.val()&&"checked"==n.attr("checked")){var r=e(e(t.target).find(".notification")[0]);r.html('<span style="color:red">- Enter a reason!</span>')}else e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(){t.target||(t.target=t.srcElement||document),e(t.target).attr("disabled","disabled"),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:green">- Success!</span>')},error:function(){t.target||(t.target=t.srcElement||document),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:red">- Failure!</span>')
}})})},"admin-shorten-url-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault(),e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(i){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(i),ele.html("<span class='result "+res.result+"'>"+res.result+":</span> <span class='url'>"+res.info+"</span>")},error:function(i){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(i.responseText),ele.html("<span style='color:red'>Error: "+res+"</span>")}})})},"admin-super-coupon-form":function(){function t(){"given"==e("#course-set").val()?e("#course-ids").removeAttr("readonly"):e("#course-ids").attr("readonly","readonly")}t(),e("#course-set").change(t.context(this))},"affiliate-dashboard":function(){var t=e("input#searchbox");t.on("keypress",function(e){13==e.which&&($uri=new i(window.location).deleteQueryParam("p").replaceQueryParam("q",t.val().trim()),window.location=$uri.toString())})},"organizations-landing":function(){var t=0;setInterval(function(){t++;var i=t%4;e(".discover-courses-list").children().css({opacity:1}).delay(50).animate({opacity:"-=1"},600),setTimeout(function(){e(".discover-courses-list").children().css({display:"none"})},655),setTimeout(function(){var t=e(".discover-courses-list").children().slice(3*i,3*(i+1));t.css({display:"inline-block",opacity:0}).delay(50).animate({opacity:"+=1"},800)},660)},4e3)},"ajax-a-tag":function(){var t=this.element;t.bind("click",function(i){i.preventDefault(),e.ajax(t.attr("href")).done(function(e){t.html(e),t.unbind("click").bind("click",function(e){e.preventDefault()})}).fail(function(){t.html("try again")})})},"ios-deeplink":function(){var e=void 0===this.element.data("fallBackUrl")?null:this.element.data("fallBackUrl"),t=void 0===this.element.data("courseId")?null:this.element.data("courseId"),i="udemy://discover",n=void 0===this.element.data("discoveryTab")?null:this.element.data("discoveryTab");e=decodeURIComponent(e),t?(t=parseInt(t),t&&(i+="?courseId="+t)):n&&(i+="?discoverUnitId="+n),window.setTimeout(function(){window.location=e},400),window.location=i},"android-deeplink":function(){var e=this.element,t=void 0===e.data("fallBackUrl")?null:e.data("fallBackUrl");window.setTimeout(function(){window.location=decodeURIComponent(t)},400)},"teach-iframe":function(){e("body").on("change",function(){parent.resizeIframe()})},"close-promote-mobile":function(){e(".close-promote-mobile",this.element).click(function(){UD.API.call("/users/me/settings/",{type:"POST",data:{settings:{showDownloadMobileBanner:0}}}),this.element.slideUp(1e3)}.bind(this))},"survey-hide-phone-number":function(){e("#form-item-phoneNumber",this.element).children("label").hide(),e("#emailSubscriberList, #youtubeSubscriberList",this.element).change(function(){var t=parseInt(e("#emailSubscriberList").val()),i=parseInt(e("#youtubeSubscriberList").val());t>=5e3||i>=5e3?e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).show():e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).hide()}),e("#emailSubscriberList, #youtubeSubscriberList",this.element).trigger("change")},"landing-page-v41":function(){var t=e(".show-nav-on-this",this.element);if(t.length){var i,n=e(".hidden-course-bar",this.element),r=t.offset().top;e(window).scroll(function(){i=e(this).scrollTop(),i>r-65?n.addClass("slideDown"):n.removeClass("slideDown")})}e(".cur-list-row").toggle(function(){e(this).addClass("on")},function(){e(this).removeClass("on")}),e(".landing-page").scrollspy({target:"#scrollspy"})}})}),define("ud.procedurals",["jquery-widget-init","ud.page"],function(){"use strict";window.popitup=function(e,t,i){var n=window.open(e,"Popup","width="+t+",height="+i);return window.focus&&n.focus(),!1}}),define("ud.initializer",["jquery-widget-init","ud.widget.mapping","ud.procedurals"],function(e,t){"use strict";e.fn.ud_initialize=function(i){var n={onComplete:function(){}},r=e.extend(n,i),o=e(this),s=0,a=function(){s++},u=function(){s--,0===s&&r.onComplete()},c=u;for(var d in t){var l=e(d,o);if(l.length>0){var m=t[d],f=m.mid,p=m.fname;a(f.toString()),require([f.toString()],function(t,i,n,r){e(t).each(function(t,n){"undefined"==typeof e(n).data(i)&&e(n)[i]()}),n(r.toString())}.bind(this,l,p,u,f.toString()),function(e,t,i,n,r,o){throw console&&console.log("Require couldn't load",o,r,e,t,i),n(r.toString()),o}.bind(this,l,p,d,c,f.toString()))}}0===s&&r.onComplete(),e.each("undefined"==typeof window.onReadyCalls?[]:window.onReadyCalls,function(e,t){t()}),window.onReadyCalls=[]}}),define("angular-module-patch",["angular"],function(e){var t=e.module,i={};e.module=function(e,n,r){n=n||[];var o=null;return i[e]?(o=t(e),o.requires.push.apply(o.requires,n)):(o=t(e,n,r),i[e]=o),o}}),define("course-taking-dashboard.app/../../patches/extend-deep",["angular","angular-module-patch"],function(e){e.extendDeep=function t(i){return e.forEach(arguments,function(n){n!==i&&e.forEach(n,function(e,n){i[n]&&i[n].constructor&&i[n].constructor===Object?t(i[n],e):i[n]=e})}),i}}),define("course-taking-dashboard.app/../../directives/common/chart",["angular","jquery","ud-template","ud-translate","ud.initializer","../../patches/extend-deep"],function(e,t){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("chart",["$http","gettextCatalog",function(i,n){var r=function(i,n,r){var a="Yes"==r.pivot||"true"==r.pivot?o(r.data):r.data;if(i.csvData=s(a),"value"===i.type){var u;for(var c in a[0])u=a[0][c];i.chartData.singleValue=u,i.loadingData=!1}else"table"===i.type?(i.chartData.table=a,i.loadingData=!1):require(["ud.intelligence.chart.renderers"],function(r){var o=r[i.type];if(o){var s={chart:{events:{load:function(){i.$apply(function(){i.loadingData=!1,t(n).ud_initialize()})}}},yAxis:{title:{text:""},min:0,tickPixelInterval:25,gridLineDashStyle:"dash",labels:{style:{color:"#888",font:"10px Trebuchet MS, Verdana, sans-serif"}}},colors:["#77BC85","#77aebc","#bca677","#af7b7b","#8b7191","#92A8CD","#A47D7C","#B5CA92","#3d6546","#85703f","#653d3d"]};switch(i.yAxisLabel&&(s.yAxis.title={text:i.yAxisLabel},s.legend={enabled:!1}),"true"===i.rotateLabels&&e.extend(s,{xAxis:{labels:{rotation:-45,align:"right"}}}),i.type){case"piechart":e.extend(s,{plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",format:"{point.percentage:.1f}%"},showInLegend:!0}}});break;case"column":e.extend(s,{plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:.035}}})}e.extendDeep(s,i.options),o.render(a,n,s,i.options)}})},o=function(e){if(e.length<1)return[];var t=UD.Utils.Object.getFieldsArray(e[0]);return UD.Utils.Array.pivotize(e,t[0],t[1],t[2],0)},s=function(i){var n,r=[],o=[];if(i&&i.length){var s=UD.Utils.Object.getFieldsArray(i[0]);r.push('"'+s.join('","')+'"'),t.each(i,function(t,i){o=[];for(var a=0;a<s.length;a++){n=i[s[a]];try{e.isObject(n)&&(n=n.label),o.push("number"==typeof n||n&&n.match(/^-{0,1}\d*\.{0,1}\d+$/)?parseFloat(n):'"'+(n||"")+'"')}catch(u){}}r.push(o.join(","))});var a=r.join("\n"),u="data:application/csv;charset=UTF-8,"+encodeURIComponent(a);return u}};return{controller:["$scope",function(e){e.loadingData=!0,e.chartHeight=e.height?e.height.replace(/(px)?$/,"px"):"auto",e.chartData={},e.getKeysForObject=function(e){return e?Object.keys(e).filter(function(e){return"$$hashKey"!=e}):[]}}],restrict:"E",replace:!0,transclude:!0,scope:{url:"=",pivot:"@",type:"@",title:"@",height:"@",rotateLabels:"@",yAxisLabel:"@",extraLinksToRender:"@",options:"=",zeroText:"@"},templateUrl:"/staticx/udemy/js/ng/directives/common/chart.tpl.html",link:function(e,o){e.$watch("zeroText",function(t){e.zeroText=t?t:n.getString("No data received.")}),e.extraLinksToRender&&(e.extraLinks=JSON.parse(e.extraLinksToRender)),i.get(e.url).success(function(i){e.data=i,r(e,o.find(".body"),{pivot:e.pivot,data:e.data}),t(o).ud_initialize()}.context(this))}}}])}),define("course-taking-dashboard.app/../../directives/common/forms/form-alert",["angular"],function(e){"use strict";function t(){return{restrict:"EA",templateUrl:"/staticx/udemy/js/ng/directives/common/forms/form-alert.tpl.html",replace:!0,scope:{error:"="}}}var i=e.module("ud.common.formAlert",[]).directive("formAlert",t);return i}),define("course-taking-dashboard.app/../../directives/common/forms/form-error",["angular","../../../services/Utils"],function(e){"use strict";function t(t,i){function n(){this.state={},this.reset(),this.ErrorType=t}return n.prototype.setErrorMessage=function(e){this.state.message=e},n.prototype.getMessage=function(){return this.state.message},n.prototype.getType=function(){return this.state.type},n.prototype.getCurrent=function(){return this.state},n.prototype.reset=function(){this.state.type=t.info,this.state.message=null,this.state.ignoreWarnings=!1},n.prototype.ignoreWarnings=function(e,t){return this.hasWarnings()&&e==t},n.prototype.hasWarnings=function(){return this.state.ignoreWarnings},n.prototype.processResponseError=function(n){var r,o=n.data.error,s=o.details,a=s.invalidItems,u=s.warningItems,c=(s.error+" "+i.joinObjWithEnclosedTag(a,"p")).trim();c?(this.state.message=c,this.state.type=t.danger):(this.state.message=i.joinObjWithEnclosedTag(u,"p").trim(),this.state.type=t.warning),e.isFunction(n.headers)&&(r=n.headers(),this.state.feedback={message:r["x-ui-message"],type:r["x-ui-message-type"]}),"warning"===o.details.result&&(this.state.ignoreWarnings=!0)},n.prototype.getFeedback=function(){return this.state.feedback},n.prototype.getFeedback=function(){return this.state.feedback},n}var i=e.module("ud.common.forms.formError",[]).constant("FORM_ERROR_TYPE",{info:"info",warning:"warning",danger:"danger"}).factory("FormError",t);return t.$inject=["FORM_ERROR_TYPE","Utils"],i}),define("course-taking-dashboard.app/../../directives/common/forms/module",["angular","./form-alert","./form-error"],function(e,t,i){"use strict";return e.module("apps.common.forms",[t.name,i.name])}),define("course-taking-dashboard.app/../../directives/common/popover/popover",["angular","ui-bootstrap"],function(e){"use strict";function t(t,i,n,r,o){function s(t){this.scope=null,this.element=t.element||a,this.popoverElem=null,this.options=e.extend({},t),this.isOpen=!1}var a=n.find("body"),u=e.element('<div class="popover {{placement}}"  ng-click =\'$event.stopPropagation()\' style =" display: block; position: absolute; z-index: 1054 ;">   <div class="arrow"></div></div>');return s.prototype.close=function(){this.popoverElem&&(this.popoverElem.remove(),this.isOpen=!1,this.scope.$destroy())},s.prototype.applyPosition=function(){var e;this.element.after(this.popoverElem),e=o.positionElements(this.element,this.popoverElem,this.scope.placement,!1),e.top+="px",e.left+="px",this.popoverElem.css(e)},s.prototype.open=function(){var n,o=this;o.isOpen||(o.scope=o.options.scope.$new(),n=u.clone(),o.isOpen=!0,o.scope.placement=o.options.placement||"top",o.options.template&&(o.scope.template=this.options.template),t.get(o.scope.template,{cache:i}).success(function(t){n.append(e.element(t)),o.popoverElem=r(n)(o.scope,function(){}),o.applyPosition()}))},{create:function(e){return new s(e)}}}function i(t,i){return{link:function(n,r,o){var s,a,u=e.noop,c={scope:n,element:r,template:o.template,placement:o.placement};s=i.create(c),o.isOpen&&(a=t(o.isOpen),u=a.assign,n.$watch(a,function(e){n._isOpen=!!e})),n.$watch("_isOpen",function(e){e?s.open():s.close(),u(n,e)}),n.$on("$destroy",function(){n._isOpen=!1})}}}t.$inject=["$http","$templateCache","$document","$compile","$position"],i.$inject=["$parse","Popover"],e.module("directives.common.popover",["ui.bootstrap"]).factory("Popover",t).directive("popoverBtn",i)}),define("course-taking-dashboard.app/../../directives/common/fields/search-field",["angular","ud-template"],function(e){"use strict";function t(){return{restrict:"AE",replace:!0,scope:{placeholder:"@",onClear:"&",onSubmit:"&",isDisabled:"=",hasClearBtn:"=",value:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/fields/search-field.tpl.html",link:function(e,t){e.placeholder&&t.find("input").attr("placeholder",e.placeholder),e.showClearBtn=function(){return e.hasClearBtn&&e.value},e.clear=function(){e.value="",e.onSubmit({value:e.value}),e.showClearBtn()}}}}var i=e.module("directives.common.fields.searchField",["udTemplate"]).directive("searchField",t);return i}),define("course-taking-dashboard.app/../../directives/common/fields/char-count-field",["angular","ud-template"],function(e){"use strict";function t(e){return function(){return{restrict:"AE",replace:!0,scope:{maxChars:"=",placeholder:"=",text:"=",rows:"="},templateUrl:e,link:function(e,t){function i(){e.remainingChars=e.maxChars-(e.text||"").length}i(),e.change=function(){i(),e.remainingChars<0?t.addClass("char-limit-exceeded"):t.removeClass("char-limit-exceeded")},e.$watch("text",e.change)}}}}var i=e.module("directives.common.fields.charCountField",["udTemplate"]).directive("charCountField",t("/staticx/udemy/js/ng/directives/common/fields/char-count-field.tpl.html")).directive("textareaCountField",t("/staticx/udemy/js/ng/directives/common/fields/textarea-count-field.tpl.html"));return i}),define("course-taking-dashboard.app/../../directives/common/fields/input-utils",["angular"],function(e){"use strict";function t(e){var t="udInitFocus";return{restrict:"A",link:function(i,n,r){e(function(){var e=r[t];e||n[0].focus()})}}}var i=e.module("directives.common.fields.inputUtils",["udTemplate"]).directive("udInitFocus",t);return t.$inject=["$timeout"],i}),define("course-taking-dashboard.app/../../directives/common/fields/module",["angular","./search-field","./char-count-field","./input-utils"],function(e,t,i,n){"use strict";return e.module("directives.common.fields",[t.name,i.name,n.name])}),define("course-taking-dashboard.app/../../directives/common/loc-ref",["angular"],function(e){"use strict";function t(){return{restrict:"A",require:"?^locRefActive",link:function(e,t,i,n){var r=i.href||i.ngHref;n.setUrl(r)}}}function i(e,t){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,n,r){function o(){return e.path()}function s(){a()?n.addClass(c):n.removeClass(c)}function a(){return u===o()}var u,c=t(r.locRefActive)(i);i.$watch(o,s),this.setUrl=function(e){u=e.replace(".","")}}]}}var n=e.module("directives.common.locRef",[]).directive("locRef",t).directive("locRefActive",i);return t.$inject=[],i.$inject=["$location","$interpolate"],n}),define("course-taking-dashboard.app/../../directives/common/header/header-loc-dropdown",["angular","underscore"],function(e,t){"use strict";function i(){var e={restrict:"AE",transclude:!0,replace:!0,scope:{name:"@"},controller:"HeaderLocDropdownController",templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown.tpl.html"};return e}function n(){var e={restrict:"AE",scope:{item:"="},require:"^liHeaderLocDropdown",replace:!0,templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown-item.tpl.html",link:function(e,t,i,n){n.addItem(e.item)}};return e}function r(e,i){function n(){e.selectedItem=t.findWhere(e.items,{target_url:i.path()})}e.items=[],e.selectedItem=null,e.$on("$locationChangeSuccess",n),this.addItem=function(t){e.items.push(t),n()}}var o=e.module("apps.channelDashboard.channel.headerLocDropdown",[]).directive("liHeaderLocDropdown",i).directive("headerLocDropdownItem",n).controller("HeaderLocDropdownController",r);return r.$inject=["$scope","$location"],o}),define("course-taking-dashboard.app/../../directives/common/header/module",["angular","./header-loc-dropdown"],function(e,t){"use strict";return e.module("directives.common.header",[t.name])}),define("course-taking-dashboard.app/../../directives/common/date/date-range-picker",["angular","ui-bootstrap"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,controller:["$scope",function(e){e.open=function(e,t){e.preventDefault(),e.stopPropagation(),t.isOpen=!t.isOpen}}],scope:{start:"=",end:"=",minDate:"=",maxDate:"=",dateFormat:"=",dateOptions:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/date/date-range-picker.html"}}var i=e.module("directives.common.date.datePicker",[]).directive("dateRangePicker",t);return t.$inject=["NG_APPS_URL"],i}),define("course-taking-dashboard.app/../../directives/common/date/module",["angular","./date-range-picker"],function(e,t){"use strict";return e.module("directives.common.date",[t.name])}),define("course-taking-dashboard.app/../../directives-common",["./directives/common/utils","./directives/common/popup","./directives/common/ajax-loader","./directives/common/chart","./directives/common/forms/module","./directives/common/popover/popover","./directives/common/fields/module","./directives/common/loc-ref","./directives/common/header/module","./directives/common/date/module"],function(e,t,i,n,r,o,s,a,u,c){"use strict";return angular.module("directives.common",["directives.common.popover","directives.common.fields",a.name,u.name,c.name])}),define("course-taking-dashboard.app/../../directives/activity/activity",["angular","ud-template","ud-translate"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activity",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{index:"@",showComments:"=",activities:"=",activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity.tpl.html",link:function(e){e.state=e.state||{},e.state.isEditing=!1,e.state.isSubmitted=!1}}})}),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(n,r,o,s){var a,u=[];a=r.$eval(s["ui"+i(n)]),angular.forEach(a,function(t,i){var n,r;r=e(t),angular.forEach(i.split(" "),function(e){n={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){n.keys[e]=!0}),u.push(n)})}),o.bind(n,function(e){var i=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,s=!!e.ctrlKey,a=!!e.shiftKey,c=e.keyCode;"keypress"===n&&!a&&c>=97&&122>=c&&(c-=32),angular.forEach(u,function(n){var u=n.keys[t[c]]||n.keys[c.toString()],d=!!n.keys.meta,l=!!n.keys.alt,m=!!n.keys.ctrl,f=!!n.keys.shift;u&&d===i&&l===o&&m===s&&f===a&&r.$apply(function(){n.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,i,n){e("keydown",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,i,n){e("keypress",t,i,n)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,i,n){e("keyup",t,i,n)}}}]),define("course-taking-dashboard.app/../../libs/angular-ui/keypress",function(){}),define("course-taking-dashboard.app/../../directives/activity/comment",["angular","ud-template","ud-translate","../../libs/angular-ui/keypress"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("comment",function(){var e=function(e){e.enterPressed=function(t){t.preventDefault();var i=e.commentText&&e.commentText.trim();i&&(e.commentText=i,e.comment?(e.comment.body=e.commentText,e.showForm=!1,e.updateCommentFn({commentId:e.comment.id,commentText:e.commentText,callbackFn:function(t){e.comment.body=t}})):(e.addCommentFn({commentText:e.commentText}),e.commentText=""))},e.escPressed=function(t){t.preventDefault(),e.comment?e.showForm=!1:e.shouldBlur=!0},e.onCommentEdit=function(){e.commentText=e.comment.body,e.showForm=!0,e.editEnabled=!0,e.shouldFocus=!0},e.onCommentDelete=function(){window.confirm("Are you sure you want to delete?")&&e.deleteCommentFn({commentId:e.comment.id})},e.$watch("focusForm",function(t){t&&(e.shouldFocus=!0)})};return e.$inject=["$scope"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{comment:"=",courseId:"=",showImage:"@",showForm:"@",addCommentFn:"&",updateCommentFn:"&",deleteCommentFn:"&",focusForm:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/comment.tpl.html"}})}),define("course-taking-dashboard.app/../../directives/activity/activity-comments",["angular","ud-template","ud-translate","./comment","../../services/Activity"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityComments",["Activity","$rootScope",function(e,t){var i=function(t){t.loadMoreComments=function(){t.visibleComments=t.invisibleComments.splice(0-t.pageSize).concat(t.visibleComments)},t.addComment=function(i){var n={user:t.me,body:i};t.visibleComments.push(n),t.comments.push(n);var r=e.createComment(t.activity.target.id,t.activity.id,i);r.success(function(e){var i=e;t.visibleComments.pop(),t.visibleComments.push(i),t.comments.pop(),t.comments.push(i)})},t.updateComment=function(i,n,r){var o=e.updateComment(t.activity.target.id,t.activity.id,i,n);o.success(function(e){r&&r(e.body)})},t.deleteComment=function(i){var n;for(n in t.visibleComments)t.visibleComments[n].id==i&&t.visibleComments.splice(n,1);for(n in t.comments)t.comments[n].id==i&&t.comments.splice(n,1);e.deleteComment(t.activity.target.id,t.activity.id,i)}};return i.$inject=["$scope"],{controller:i,restrict:"E",replace:!0,transclude:!0,scope:{me:"=",activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-comments.tpl.html",link:function(e){e.pageSize=5,e.comments=e.activity.comments,t.expandAll?(e.visibleComments=e.activity.comments.slice(0),e.invisibleComments=[]):(e.visibleComments=e.activity.comments.slice(-3),e.invisibleComments=e.activity.comments.slice(0,-3))}}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-follow",["angular","ud-template","ud-translate","../../services/Activity"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityFollow",["Activity",function(e){var t=function(t){t.onFollow=function(){t.activity.is_following=!0,t.activity.num_follows+=1;var i=e.followActivity(t.activity);i.success(function(){}),i.error(function(){t.activity.is_following=!1,t.activity.num_follows-=1})},t.onUnfollow=function(){t.activity.is_following=!1,t.activity.num_follows-=1;var i=e.unfollowActivity(t.activity);i.success(function(){}),i.error(function(){t.activity.is_following=!0,t.activity.num_follows+=1})}};return t.$inject=["$scope"],{controller:t,restrict:"E",replace:!0,transclude:!0,scope:{activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-follow.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-related-lecture",["angular","ud-template","ud-translate"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityRelatedLecture",function(){var e=function(e,t){e.findLectureById=function(){if(e.lectureId)for(var i in t.curriculum){var n=t.curriculum[i];if("lecture"===n.__class&&n.id==e.lectureId)return e.lecture=n,!0}return!1}};return e.$inject=["$scope","$rootScope"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{lectureId:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-related-lecture.tpl.html"}})}),define("course-taking-dashboard.app/../../directives/activity/user-tooltip",["angular","ud-template","ud-translate"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("userTooltip",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{user:"=userData"},templateUrl:"/staticx/udemy/js/ng/directives/activity/user-tooltip.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-header",["angular","ud-template","ud-translate","../../services/Activity","../../services/User","./activity-related-lecture","./user-tooltip"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityHeader",["$rootScope","Activity","User",function(e,t,i){var n=function(e){e.onActivityEdit=function(){e.state.isEditing=!0},e.onActivityDelete=function(){window.confirm("Are you sure you want to delete?")&&(e.activities.splice(e.index,1),t.deleteActivity(e.activity))}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-header.tpl.html",link:function(t,n,r){t.me=i.getMe(),t.actionText=r.actionText,t.actionIcon=r.actionIcon,t.$watch("[me, activity.actor, state.isEditing]",function(){var i=t.me&&t.me.id==t.activity.actor.id;t.isEditVisible=i&&!t.state.isEditing,t.isDeleteVisible=(i||e.isInstructor)&&!t.state.isEditing},!0)}}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-like",["angular","ud-template","ud-translate","../../services/Activity"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityLike",["Activity",function(e){var t=function(t){t.onLike=function(){t.activity.is_liked=!0,t.activity.num_likes+=1;var i=e.likeActivity(t.activity);i.success(function(){}),i.error(function(){t.activity.is_liked=!1,t.activity.num_likes-=1})},t.onUnlike=function(){t.activity.is_liked=!1,t.activity.num_likes-=1;var i=e.unlikeActivity(t.activity);i.success(function(){}),i.error(function(){t.activity.is_liked=!0,t.activity.num_likes+=1})}};return t.$inject=["$scope"],{controller:t,restrict:"E",replace:!0,transclude:!0,scope:{activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-like.tpl.html"}}])}),define("ng-root/services/Utils",["angular"],function(e){"use strict";e.module("services",[]).factory("Utils",["$timeout","$q",function(t,i){var n=function(t){e.extend(this,t)};return n.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},n.removeItemFromArray=function(e,t){var i=t.indexOf(e);return 0>=i?(t.splice(i,1),!0):!1},n.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},n.convertParamToBool=function(e){return"true"===e||e>0},n.UdemyApiHelper={appendIgnoreWarningsParam:function(e,t){return t=t||{},t.ignoreWarnings=n.convertBoolToInt(e),t}},n.htmlTagsHasContent=function(e){return!!n.trimTags(e)},n.joinObjWithEnclosedTag=function(e,t){var i,n="";for(i in e)e.hasOwnProperty(i)&&(n+="<"+t+">"+e[i]+"</"+t+">");return n},n.debounce=function(e,n,r){var o,s=i.defer();return function(){var a=this,u=arguments,c=function(){o=null,r||(s.resolve(e.apply(a,u)),s=i.defer())},d=r&&!o;return o&&t.cancel(o),o=t(c,n),d&&(s.resolve(e.apply(a,u)),s=i.defer()),s.promise}},n}])}),define("course-taking-dashboard.app/../../directives/common/ud-wysiwyg",["angular","jquery","ng-root/services/Utils"],function(e,t){"use strict";return e.module("directives.common.udWysiwyg",["services"]).directive("udWysiwyg",["Utils",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@",defaultText:"=",editorValueCollectedFn:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/ud-wysiwyg.tpl.html",link:function(i,n){i.initEditor=function(){var r=function(e){i.editorValue=e,i.$$phase||i.$root.$$phase||i.$apply()};t(n).ud_wysiwyg({changeCallback:e.debounce(r,500,!1),placeholder:i.placeholderText}),i.setValue(i.editorValue)},i.getValue=function(){return n.data("ud-ud_wysiwyg")&&n.data("ud-ud_wysiwyg").getValue()},i.setValue=function(e){n.data("ud-ud_wysiwyg")&&n.data("ud-ud_wysiwyg").setValue(e)},i.resetValue=function(){n.data("ud-ud_wysiwyg")&&n.data("ud-ud_wysiwyg").setValue("")},i.destroyEditor=function(){n.data("ud-ud_wysiwyg")&&n.data("ud-ud_wysiwyg").destroy()},i.$watch("requestEditorValue",function(e){e===!0&&i.editorValueCollectedFn&&i.editorValueCollectedFn(i.editorValue?i.editorValue:"")}),i.$watch("requestResetValue",function(e){e===!0&&i.resetValue()}),i.$watch("requestEditorInit",function(e){e===!0&&require(["ud.wysiwyg"],function(){i.initEditor()})}),i.$watch("placeholderText",function(e){n.attr("placeholder",e)})}}}])}),define("course-taking-dashboard.app/../../directives/activity/announcement-form",["angular","ud-link","ud-template","ud-translate","../common/ud-wysiwyg","../common/forms/form-alert"],function(e,t,i,n,r){"use strict";e.module("directives",[i.name,n.name,r.name]).directive("announcementForm",function(){return{restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-form.tpl.html",scope:{content:"=",state:"=",mode:"@"},link:function(e){e.promoteUrl=t.to("announcement","send")}}})}),define("course-taking-dashboard.app/../../directives/activity/announcement-activity",["angular","ud-template","ud-translate","../../services/Announcement","./activity-header","./activity-like","./activity-comments","./user-tooltip","./announcement-form"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("announcementActivity",["Announcement",function(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-activity.tpl.html",link:function(t){t.formData={},t.formData.content=t.activity.action_object.content,t.state=t.state||{},t.state.isInitialized=!0,t.state.editorValueCollectedFn=function(i){var n=!!i.replace(/(<([^>]+)>)/gi,"");n&&t.state.isSubmitted===!0&&e.update(t.activity.action_object.id,{content:i}).success(function(e){t.activity.action_object.content=e.content}),t.state.isSubmitted=!1,t.state.isEditing=!1}}}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-form",["angular","ud-template","ud-translate","../common/forms/module","../common/ud-wysiwyg"],function(e,t,i,n,r){"use strict";e.module("directives",["udTemplate","udTranslate",n.name,r.name]).controller("DiscussionFormController",["$scope","gettextCatalog",function(e,t){e.state.isSubmitted=!1,e.state.isDropdownOpen=!1,e.state.textPlaceHolder=t.getString(e.state.showFullView?"Type your discussion title here and any details below":"Start a new discussion"),e.resetCurrentLecture=function(){e.currentLecture.id=null,e.state.isDropdownOpen=!1},e.$watch("state.showFullView",function(t){e.state.isReset=!t}),e.setCurrentLecture=function(t){t.asset&&"Locked"==t.asset.type||(e.currentLecture||(e.currentLecture={}),e.currentLecture.id=t.id),e.state.isDropdownOpen=!1},e.submitForm=function(){e.state.isSubmitted=!0},e.state.editorValueCollectedFn=function(t){e.onSubmitContent({content:t}),e.state.isSubmitted=!1}}]).directive("discussionForm",[function(){return{controller:"DiscussionFormController",restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-form.tpl.html",scope:{title:"=",content:"=",state:"=",currentLecture:"=",showLectureDropdown:"=",mode:"@",onSubmitContent:"&"}}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-reply",["angular","ud-template","ud-translate","../common/forms/module","../common/ud-wysiwyg","../../services/Discussion"],function(e,t,i,n,r){"use strict";e.module("directives",["udTemplate","udTranslate",n.name,r.name]).controller("DiscussionReplyController",["$scope","Discussion","$rootScope","FormError",function(e,t,i,n){var r=null;e.formData={},e.isSubmitted=!1,e.isEditing=!1,e.formError=new n,e.editorValueCollectedFn=function(i){var n;e.isSubmitted===!0&&(n=e.formError.ignoreWarnings(i,r),t.updateDiscussionReply(e.reply.discussionId,e.reply.id,i,n).then(function(t){var i=t.data;e.reply.body=i.body,e.isEditing=!1,e.formError.reset()},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromText(e.state.formError.getFeedback(),"error")})),e.isSubmitted=!1,r=i},e.onEdit=function(){e.formData.body=e.reply.body,e.isEditing=!0},e.isEditVisible=function(){return e.me.id==e.reply.user.id},e.isDeleteVisible=function(){return e.me.id==e.reply.user.id||i.isInstructor},e.onCancel=function(){e.isEditing=!1,e.formError.reset()},e.onDelete=function(){window.confirm("You are about to remove this reply. Are you sure you want to continue?")&&e.deleteReplyFn({replyId:e.reply.id})
}}]).directive("discussionReply",[function(){return{controller:"DiscussionReplyController",restrict:"E",replace:!0,transclude:!0,scope:{reply:"=",me:"=",deleteReplyFn:"&"},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-reply.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-replies",["angular","ud-template","ud-translate","./discussion-reply","../common/forms/module","../common/ud-wysiwyg","../../services/Activity","../../services/Discussion"],function(e,t,i,n,r,o){"use strict";e.module("directives",[t.name,i.name,r.name,o.name,"services"]).controller("DiscussionRepliesController",["$scope","$filter","Discussion","Activity","FormError",function(e,t,i,n,r){var o;e.formData={},e.formData.body="",e.formError=new r,e.state=e.state||{},e.state.isSubmitted=!1,e.state.isEditing=!1,e.state.isReset=!1,e.state.editorValueCollectedFn=function(r){var s,a=!t("isStrippedHTMLEmpty")(r);a&&e.state.isSubmitted===!0&&(s=e.formError.ignoreWarnings(r,o),i.addDiscussionReply(e.activity.action_object.id,r,s).then(function(t){var i=t.data;e.activity.replies.splice(e.position,0,i),e.position=e.position+1,e.activity.is_following||(e.activity.is_following=!0,e.activity.num_follows=(e.activity.num_follows||0)+1,n.followActivity(e.activity).then(function(){},function(){e.activity.is_following=!1,e.activity.num_follows-=1})),e.formData.body="",e.formError.reset(),e.state.isReset=!0},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.formError.getFeedback())})),e.state.isReset=!1,e.state.isSubmitted=!1,o=r},e.$watch("showFullView",function(t){t&&(e.state.isEditing=!0)}),e.deleteReply=function(t,n){i.deleteDiscussionReply(t,n).success(function(){for(var t in e.activity.replies)e.activity.replies[t].id==n&&e.activity.replies.splice(t,1)})}}]).directive("discussionReplies",["$filter","Discussion","$controller",function(){return{controller:"DiscussionRepliesController",restrict:"E",replace:!0,scope:{activity:"=",me:"=",showFullView:"=",position:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-replies.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-activity",["angular","ud-template","ud-translate","../common/forms/module","../../services/Discussion","../../services/Utils","./activity-header","./activity-like","./user-tooltip","./discussion-form","./discussion-replies"],function(e,t,i,n){"use strict";e.module("directives",["udTemplate","udTranslate",n.name]).controller("DiscussionActivityController",["$scope","Discussion","$rootScope","FormError","Utils",function(e,t,i,n,r){var o;e.formData={},e.formData.title=e.activity.action_object.title,e.formData.body=e.activity.action_object.body,e.state=e.state||{},o=e.state.formError=new n,e.state.showFullView=!1,e.lastPageLoadedReplies=0,e.activity.replies=[],e.position=0;var s=null;e.onSubmitContent=function(i){if(r.htmlTagsHasContent(i)&&e.state.isSubmitted===!0){var n=e.state.formError.ignoreWarnings(i,s),a={body:i,title:e.formData.title};t.update(e.activity.action_object.id,a,n).then(function(t){var i=t.data;e.activity.action_object.title=i.title,e.activity.action_object.body=i.body,e.state.showFullView=!1,e.state.isEditing=!1,o.reset()},function(t){e.state.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback())})}s=e.formData.body=i},e.loadDiscussionReplies=function(){e.state.showFullView?(e.state.showFullView=!1,e.position=0):0===e.position&&0===e.activity.replies.length?t.getDiscussionReplies(e.activity.action_object.id,e.lastPageLoadedReplies+1,e.activity.action_object.num_replies).then(function(t){var i=t.data.data;e.activity.replies=e.activity.replies.concat(i),e.lastPageLoadedReplies++,e.position=e.position+e.getNumReplies(),e.state.showFullView=!0},function(t){e.state.formError.processResponseError(t.data),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback()),e.retrieveLastSubmittedDiscussionDetails()}):(e.position=e.position+e.getNumReplies(),e.state.showFullView=!0)},e.getNumReplies=function(){return e.lastPageLoadedReplies>0?e.activity.replies.length:e.activity.action_object.num_replies},i.expandAll&&e.loadDiscussionReplies()}]).directive("discussionActivity",[function(){return{controller:"DiscussionActivityController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-activity.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives-activity",["./directives/activity/activity","./directives/activity/activity-comments","./directives/activity/activity-follow","./directives/activity/activity-header","./directives/activity/activity-like","./directives/activity/activity-related-lecture","./directives/activity/announcement-activity","./directives/activity/announcement-form","./directives/activity/comment","./directives/activity/discussion-activity","./directives/activity/discussion-form","./directives/activity/discussion-replies","./directives/activity/discussion-reply","./directives/activity/user-tooltip"],function(){}),function(){function e(e){if(!e)return"";for(var t,n,r=[],o=0;o<e.length;o++)(n=e.charCodeAt(o))<384&&(t=String.fromCharCode(n),r.push(i[t]||t));return e=r.join(""),e=e.replace(/[^\w\s-]/g,"").trim().toLowerCase(),e.replace(/[-\s]+/g,"-")}var t=angular.module("slugifier",[]),i={" ":" ","¡":"!","¢":"c","£":"lb","¥":"yen","¦":"|","§":"SS","¨":'"',"©":"(c)","ª":"a","«":"<<","¬":"not","­":"-","®":"(R)","°":"^0","±":"+/-","²":"^2","³":"^3","´":"'","µ":"u","¶":"P","·":".","¸":",","¹":"^1","º":"o","»":">>","¼":" 1/4 ","½":" 1/2 ","¾":" 3/4 ","¿":"?","À":"`A","Á":"'A","Â":"^A","Ã":"~A","Ä":'"A',"Å":"A","Æ":"AE","Ç":"C","È":"`E","É":"'E","Ê":"^E","Ë":'"E',"Ì":"`I","Í":"'I","Î":"^I","Ï":'"I',"Ð":"D","Ñ":"~N","Ò":"`O","Ó":"'O","Ô":"^O","Õ":"~O","Ö":'"O',"×":"x","Ø":"O","Ù":"`U","Ú":"'U","Û":"^U","Ü":'"U',"Ý":"'Y","Þ":"Th","ß":"ss","à":"`a","á":"'a","â":"^a","ã":"~a","ä":'"a',"å":"a","æ":"ae","ç":"c","è":"`e","é":"'e","ê":"^e","ë":'"e',"ì":"`i","í":"'i","î":"^i","ï":'"i',"ð":"d","ñ":"~n","ò":"`o","ó":"'o","ô":"^o","õ":"~o","ö":'"o',"÷":":","ø":"o","ù":"`u","ú":"'u","û":"^u","ü":'"u',"ý":"'y","þ":"th","ÿ":'"y',"Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"'C","ć":"'c","Ĉ":"^C","ĉ":"^c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"^G","ĝ":"^g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"^H","ĥ":"^h","Ħ":"H","ħ":"h","Ĩ":"~I","ĩ":"~i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"^J","ĵ":"^j","Ķ":"K","ķ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"'N","ń":"'n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":'"O',"ő":'"o',"Œ":"OE","œ":"oe","Ŕ":"'R","ŕ":"'r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"'S","ś":"'s","Ŝ":"^S","ŝ":"^s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"~U","ũ":"~u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":'"U',"ű":'"u',"Ų":"U","ų":"u","Ŵ":"^W","ŵ":"^w","Ŷ":"^Y","ŷ":"^y","Ÿ":'"Y',"Ź":"'Z","ź":"'z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s"};t.factory("Slug",function(){return{slugify:e}}),t.directive("slug",["Slug",function(e){return{restrict:"E",scope:{to:"="},transclude:!0,replace:!0,template:"<div ng-transclude></div>",link:function(t,i,n){if(!n.from)throw"must set attribute 'from'";t.$parent.$watch(n.from,function(i){t.to=e.slugify(i)})}}}]),t.filter("slugify",function(e){return function(t){return e.slugify(t)}})}(),define("course-taking-dashboard.app/../../libs/angular-slugify",function(){}),define("course-taking-dashboard.app/../../libs/module",["angular","./angular-slugify","./angular-ui/keypress"],function(e){"use strict";return e.module("libs",["slugifier","ui.keypress"])}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-controller",["angular","jquery"],function(e,t){"use strict";function i(e,i,n,r,o){i.init=function(r,s,a,u,c,d,l){e.courseId=r,e.course={},e.me=UD.me,e.isInstructor=s,e.isPreviewer=a,e.courseHasCertificate=c,e.showCurriculum=!1,e.courseLearningExperimentId=d,e.freePreviewExperimentId=l,e.shouldStick=!1,e.courseHasCertificate&&(o.getCertificateOfUser(e.courseId,e.me.id),t(window).on("courseProgressUpdated",function(e){100==e.courseProgress.completion_ratio&&i.checkCertificate()})),o.loadCourse(e.courseId),o.loadCurriculum(e.courseId),o.loadCourseProgress(e.courseId),o.loadCourseFeedbacks(e.courseId),t(window).on("updateCourseProgress",function(){o.loadCourseProgress(e.courseId),u&&o.loadCurriculum(e.courseId)}),t(window).on("loadCourseFeedbacks",function(){o.loadCourseFeedbacks(e.courseId)}),t(window).on("timelineRendered",function(){e.showCurriculum=!0}),t(window).on("changeRouteFromOutside",function(e,t){n.path(t),i.$apply()}),i.$on("$destroy",function(){t(window).off("updateCourseProgress"),t(window).off("courseProgressUpdated"),t(window).off("loadCourseFeedbacks"),t(window).off("courseFeedbacksLoaded")})},i.checkCertificate=function(){e.certificate||e.certificateCreationTriggered?e.certificate&&e.certificate.is_ready||(o.getCertificateOfUser(e.courseId,e.me.id),r(i.checkCertificate,15e3,!1)):(o.createCertificate(e.courseId),r(i.checkCertificate,15e3,!1))},i.getCertificateStatusClass=function(){return e.isPreviewer?"certificate-not-ready":e.courseHasCertificate&&e.certificate?e.certificate.is_ready?"certificate-ready":"certificate-in-progress":"certificate-not-ready"},e.getAfterTime=function(e){return e&&0!==e.length?e[0].timestamp:null},e.getBeforeTime=function(e){return e&&0!==e.length?e[e.length-1].timestamp:null},i.confirmUnsubscribe=function(e){confirm("By selecting this option, you will be permanently removed from the course and will no longer have access to its contents. Are you sure?")||e.preventDefault()},i.showInvitationsPopup=function(){i.invitationsPopupToggle=!0},i.hideInvitationsPopup=function(){return i.invitationsPopupToggle=!1,!1},i.getWatchCount=function(e,t){if(void 0===t&&(t={}),!e||void 0!==t[e.$id])return 0;var n=0;return e.$$watchers&&(n=e.$$watchers.length),t[e.$id]=n,n+=i.getWatchCount(e.$$childHead,t),n+=i.getWatchCount(e.$$nextSibling,t)}}var n=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardController",[]).controller("CourseTakingDashboardController",i);return i.$inject=["$rootScope","$scope","$location","$timeout","CourseTakingDashboardService"],n}),define("ng-root/services/course-resources",["angular","angular-resource"],function(e){"use strict";return e.module("services.courseResources",["ngResource"]).factory("Course",["$resource",function(e){return e("/api-2.0/courses/:courseId")}]).factory("CourseReview",["$resource",function(e){return e("/api-2.0/courses/:courseId/reviews/:reviewId",null,{update:{method:"PATCH"}})}]).factory("CourseCurriculum",["$resource",function(e){return e("/api-2.0/courses/:courseId/:curriculum",null,{instructorCurriculumItems:{method:"GET",params:{curriculum:"instructor-curriculum-items"}}})}]).factory("CourseDeprecated",["$http",function(e){var t={};return t.get=function(t,i,n){return i=i||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+i,{params:n})},t.getCurriculum=function(t){var i={"fields[lecture]":"@min,completionRatio,progressStatus","fields[quiz]":"@min,completionRatio","fields[chapter]":"@min,description"};return e.get("/api-1.1/courses/"+t+"/curriculum",{params:i})},t.getCourseFeedback=function(t){return e.get("/api-2.0/users/me/course-feedbacks/",{params:{course:t}})},t.getProgress=function(t){return e.get("/api-1.1/courses/"+t+"/progress")},t.get5RandomStudents=function(t){return e.get("/api-1.1/courses/"+t+"/5-random-students")},t.updateSetting=function(t,i,n){var r={};return r[i]=n,e({url:"/api-1.1/courses/"+t+"/settings",method:"POST",data:{data:r}})},t.createAnnouncement=function(t,i,n){var r={};return"boolean"==typeof n&&(r.ignoreWarnings=n?1:0),e({url:"/api-1.1/announcements/",method:"POST",params:r,data:{courseId:t,content:i}})},t.searchDiscussionActivities=function(t,i,n,r,o){var s={action_object_class:"course_discussion","fields[user]":"url,image_50x50,title,job_title,num_visible_taught_courses,num_visible_subscribed_courses","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@min,lecture,num_replies","fields[activity_comment]":"@default,-action",ordering:"-timestamp",page:o,page_size:r};return i&&(s.search=i),n&&(s.is_answered=0),e({url:"/api-2.0/courses/"+t+"/searchable-activities",method:"GET",params:s})},t.createDiscussion=function(t,i,n,r,o){var s={};return"boolean"==typeof o&&(s.ignoreWarnings=o?1:0),e({url:"/api-1.1/discussions/",method:"POST",data:{courseId:t,lectureId:i,body:n,title:r},params:s})},t.getCertificateOfUser=function(t){return e.get("/api-2.0/users/me/certificates?course="+t)},t.createCertificate=function(t){return e.post("/api-2.0/users/me/certificates",{course_id:t})},t.logView=function(t,i,n,r){return e({url:"/api-1.1/discover/log/view",method:"POST",data:{page:n,ids:r.join(","),context:t,subcontext:i}})},t}])}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-service",["angular","jquery","ud-config","ng-root/services/course-resources","../../../services"],function(e,t,i,n){"use strict";function r(n,r,o,s,a){var u=function(t){e.extend(this,t)};return u.initLectureTaking=function(e,i){u.resetLectureTaking(),n.objectType=i,n.lectureId=e,n.lectureTakingPageActive=!0,n.certificateCreationTriggered=!1,"lecture"==n.objectType&&u.loadLectureDiscussions(),t(window).trigger("initLectureTakingFinished")},u.resetLectureTaking=function(){n.objectType=null,n.lectureId=null,n.discussionActivities=[],n.lastPageLoaded=0,n.loadingActivities=!1,n.reachedTheEndOfFeed=!1,n.pageNum=1,n.lectureTakingPageActive=!1},u.loadLectureDiscussions=function(){n.loadingActivities=!0,a.getLectureDiscussions(n.getBeforeTime(n.discussionActivities),null,n.lectureId).success(function(e){n.loadingActivities=!1,e.results.length||(n.reachedTheEndOfFeed=!0),n.discussionActivities=n.discussionActivities.concat(e.results),n.discussionActivities.length>=e.count&&(n.reachedTheEndOfFeed=!0),n.pageNum++}).error(function(){n.loadingActivities=!1}),n.$$phase||n.$apply()},n.$on("discussionActivities:addActivity",function(e,t){n.discussionActivities||(n.discussionActivities=[]),Array.prototype.unshift.apply(n.discussionActivities,t)}),u.loadCourse=function(e){o.get({courseId:e,"fields[course]":"@default,num_subscribers,avg_rating,num_reviews,num_invitation_requests,can_edit,gift_url,is_private,is_k12,notification_settings","fields[user]":"@default,num_visible_taught_courses,num_visible_subscribed_courses"}).$promise.then(function(e){u.initializeCourseData(e),e.show_discussions=i.brand.is_discussions_enabled&&!e.is_k12,e.show_reviews=i.brand.is_add_reviews_enabled&&!n.isPreviewer&&!e.is_k12,e.show_students=i.brand.is_student_list_at_course_taking_enabled&&!e.is_k12,e.show_comments=i.brand.is_feed_commenting_enabled&&!e.is_k12,n.course=e,n.$broadcast("courseLoaded")}),n.$$phase||n.$apply()},u.initializeCourseData=function(e){e.has_at_least_one_visible_instructor=e.visible_instructors.length>=1,e.has_single_instructor=1==e.visible_instructors.length,e.has_at_least_two_instructors=e.visible_instructors.length>=2,e.has_exactly_three_instructors=3==e.visible_instructors.length,e.has_more_than_three_instructors=e.visible_instructors.length>3,e.number_of_instructors=e.visible_instructors.length},u.loadCurriculum=function(e){s.getCurriculum(e).success(function(e){n.curriculum=e;var i=u.loadChaptersAndLectures(e);n.chaptersAndLectures=i;var r=t.Event("curriculumLoaded");r.curriculum=e,t(window).trigger(r)}),n.$$phase||n.$apply()},u.loadChaptersAndLectures=function(e){var t=[];for(var i in e){var n=e[i],r="chapter"===n.__class?n.index:n.chapterIndex;"undefined"==typeof t[r]&&(t[r]=[]),"undefined"==typeof t[r].lectures&&(t[r].lectures=[]),"undefined"==typeof t[r].chapter&&(t[r].chapter={}),"chapter"===n.__class?t[r].chapter=n:("lecture"===n.__class||"quiz"===n.__class)&&t[r].lectures.push(n)}return t},u.loadCourseProgress=function(i){s.getProgress(i).success(function(i){"undefined"==typeof n.courseProgress&&(n.courseProgress={}),e.copy(i,n.courseProgress);var r=t.Event("courseProgressUpdated");r.courseProgress=i,t(window).trigger(r)}),n.$$phase||n.$apply()},u.getCertificateOfUser=function(t,i){s.getCertificateOfUser(t,i).success(function(t){t.count>0&&("undefined"==typeof n.certificate&&(n.certificate={}),e.copy(t.results[0],n.certificate))}),n.$$phase||n.$apply()},u.createCertificate=function(e){s.createCertificate(e),n.certificateCreationTriggered=!0,n.$$phase||n.$apply()},u.isActive=function(e){return e.id==n.lectureId&&e.__class==n.objectType},u.isCompleted=function(e){if(n.courseProgress){var t="quiz"===e.__class?n.courseProgress.quiz_progress:n.courseProgress.lectures_progress;if(t&&t[e.id])return"completed"===t[e.id].status}return!1},u.isStarted=function(e){if(n.courseProgress){var t="quiz"===e.__class?n.courseProgress.quiz_progress:n.courseProgress.lectures_progress;if(t&&t[e.id])return"started"===t[e.id].status}return!1},u.completionRatio=function(e){if(n.courseProgress&&!n.isInstructor){var t="quiz"===e.__class?n.courseProgress.quiz_progress:n.courseProgress.lectures_progress;if(t&&t[e.id])return t[e.id].completionRatio}return 0},u.loadCourseFeedbacks=function(i){s.getCourseFeedback(i).success(function(i){"undefined"==typeof n.courseFeedbacks&&(n.courseFeedbacks={}),e.copy(i,n.courseFeedbacks);var r=t.Event("courseFeedbacksLoaded");r.courseFeedbacks=i,t(window).trigger(r)}),n.$$phase||n.$apply()},n.courseTakingDashboardService=u,u}var o=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardService",[n.name,"services"]).factory("CourseTakingDashboardService",r);return r.$inject=["$rootScope","$location","Course","CourseDeprecated","Activity"],o}),define("course-taking-dashboard.app/dashboard/module",["angular","./course-taking-dashboard-controller","./course-taking-dashboard-service"],function(e,t,i){"use strict";return e.module("apps.courseTakingDashboard.dashboard",[t.name,i.name])}),define("course-taking-dashboard.app/free-preview/free-preview-service",["angular"],function(e){"use strict";function t(e){this.getPreviewCreatedTime=function(t){return e({url:"/api-1.1/course-previews/time-spent/"+t,method:"GET"})},this.getCourse=function(t,i,n){return i=i||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+i,{params:n})}}var i=e.module("apps.courseTakingDashboard.freePreview.freePreviewService",[]).service("freePreviewService",t);return t.$inject=["$http"],i}),define("course-taking-dashboard.app/free-preview/free-preview-controller",["angular","./free-preview-service","ud-translate"],function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){t.secondsRemaining=300;var a=r.search();s.getCourse(t.courseId,"@default,purchaseInfo",a).then(function(e){t.course=e.data}),t.$watch(function(){return e.objectType},function(){var t=n.find("body");return"lecture"==e.objectType?void t.addClass("preview"):void t.removeClass("preview")}),t.$on("timer-stopped",function(){u()});var u=function(){r.path("/"),t.previewEndPopup(),t.getRemainingPreviewSeconds()};t.getRemainingPreviewSeconds=function(){var i=s.getPreviewCreatedTime(t.courseId);i.then(function(i){t.$broadcast("timer-set-countdown",i.data.remainingSeconds),o(function(){t.showTimer=!0,e.shouldStick=!0},1e3)})},t.generatePopupUrl=function(){var t=["old-free-preview","instructor-blurb","course-incentives","rating-information"],i="/staticx/udemy/js/ng/apps/course-taking-dashboard/free-preview/";return i+=t[e.freePreviewExperimentId],i+=".html"},t.previewEndPopup=function(){t.hideTimer=!0,n.find("body").addClass("oh")},t.reloadPage=function(){i.location.reload()}}var r=e.module("apps.courseTakingDashboard.freePreview.freePreviewController",[t.name,i.name]).controller("FreePreviewController",n);return n.$inject=["$rootScope","$scope","$window","$document","$location","$timeout","freePreviewService","gettextCatalog"],r}),define("course-taking-dashboard.app/free-preview/module",["angular","./free-preview-controller"],function(e,t){"use strict";return e.module("apps.courseTakingDashboard.freePreview",[t.name])}),angular.module("services").factory("Activity",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.defaultParams={"fields[user]":"url,image_50x50,title,job_title,num_visible_taught_courses,num_visible_subscribed_courses","fields[course]":"id","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@min,lecture,num_replies","fields[activity_comment]":"@default,-action"},t.getAll=function(t,i){var n={};return i&&i.length&&(n.id_in=i.join(",")),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,n)})},t.get=function(t,i){var n={};return e({url:"/api-2.0/courses/"+t+"/activities/"+i,method:"GET",params:angular.extend({},this.defaultParams,n)})},t.getAnnouncements=function(t,i,n){var r={action_object_object_type:"course_announcement"};return i&&(r.timestamp__lt=i),n&&(r.timestamp__gt=n),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getDiscussions=function(t,i,n){var r={action_object_object_type:"course_discussion"};return i&&(r.timestamp__lt=i),n&&(r.timestamp__gt=n),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getLectureDiscussions=function(t,i,n){var r={action_object_object_type:"course_discussion"};return t&&(r.timestamp__lt=t),i&&(r.timestamp__gt=i),e({url:"/api-2.0/lectures/"+n+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.deleteActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id,method:"DELETE"})},t.createComment=function(t,i,n){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments",method:"POST",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:n}})},t.updateComment=function(t,i,n,r){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments/"+n,method:"PUT",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:r}})},t.deleteComment=function(t,i,n){return e({url:"/api-2.0/courses/"+t+"/activities/"+i+"/comments/"+n,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers/"+UD.me.id,method:"DELETE"})},t.followActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers/"+UD.me.id,method:"DELETE"})},t}]),define("ng-root/services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.update=function(t,i){return e({url:"/api-1.1/announcements/"+t,method:"PUT",params:i})},t}]),define("ng-root/services/Announcement",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){"use strict";var i=t.UdemyApiHelper,n=function(e){angular.extend(this,e)};return n.update=function(t,n,r){return e({url:"/api-1.1/discussions/"+t,method:"PUT",data:n,params:i.appendIgnoreWarningsParam(r)})},n.remove=function(t){return e({url:"/api-1.1/discussions/"+t,method:"DELETE"})},n.deleteDiscussionReply=function(t,i){return e({url:"/api-1.1/discussions/"+t+"/replies/"+i,method:"DELETE"})},n.addDiscussionReply=function(t,n,r){return e({url:"/api-1.1/discussions/"+t+"/replies",method:"POST",data:{body:n},params:i.appendIgnoreWarningsParam(r)})},n.updateDiscussionReply=function(t,n,r,o){return e({url:"/api-1.1/discussions/"+t+"/replies/"+n,method:"PUT",data:{body:r},params:i.appendIgnoreWarningsParam(o)})},n.getDiscussionReplies=function(t,i,n){return e({url:"/api-1.1/discussions/"+t+"/replies/",method:"GET",params:{p:i,pageSize:n}})},n}]),define("ng-root/services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.isCourseAnnouncementRateLimitReached=function(t){return e.get("/api-1.1/users/me/rate-limits/course-announcement/",{params:{courseId:t}})};var i={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio","fields[user]":"@min"};return t.getTakingCourses=function(t,n,r){var o={page:t,page_size:n};return angular.extend(o,i),r&&(o.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.getTeachingCourses=function(t,i,n){var r={page:t,page_size:i,"fields[course]":"@default,earnings,status_label,is_private","fields[user]":"@min"};return n&&(r.search=n),e.get("/api-2.0/users/me/taught-courses",{params:r})},t.getWishlistedCourses=function(t,i,n){var r="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription",o={page:t,page_size:i,include_spam:"true","fields[course]":r,"fields[user]":"@min"};return n&&(o.search=n),e.get("/api-2.0/users/me/wishlisted-courses",{params:o})},t.getArchivedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,n){var r={page:t,page_size:n};return angular.extend(r,i),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,n,r,o){var s={page:t,page_size:n,min_progress:r,max_progress:o};return angular.extend(s,i),e.get("/api-2.0/users/me/subscribed-courses",{params:s})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:i})},t.unfavoriteCourse=function(t){return e["delete"]("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:i})},t.unarchiveCourse=function(t){return e["delete"]("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e["delete"]("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t}]),define("ng-root/services/User",function(){}),angular.module("services").factory("Scroll",function(){"use strict";var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("ng-root/services/Scroll",function(){}),angular.module("services").factory("Onboarding",["$http","$rootScope",function(e,t){"use strict";var i=function(e){angular.extend(this,e)};return i.getOptions=function(t){return e({url:t,method:"GET"})},i.start=function(e,n,r){t.$watch("chaptersAndLectures",function(t){t&&e&&i.getOptions(e).success(function(e){e&&"false"!==e&&(require(["introjs","jquery","ud.googleanalytics"],function(t,i){var n=t();n.setOptions(e),n.start(),i(".introjs-nextbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","step-"+(n._currentStep-1)+"-next")}),i(".introjs-skipbutton").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","exit")}),i(".start-tour-btn").on("click",function(){UD.GoogleAnalytics.trackEvent("onboarding","click","start"),n.goToStep(2),window.scrollTo(0,0)}),r&&r(n)}),"undefined"!=typeof n&&n&&i.end(n))})},!0)},i.end=function(t){return e({url:t,method:"POST"})},i}]),define("ng-root/services/Onboarding",function(){}),define("ng-root/services",["./services/Activity","./services/Announcement","./services/Discussion","./services/User","./services/Scroll","./services/Onboarding","./services/Utils"],function(){}),define("course-taking-dashboard.app/activities/discussion/discussion-activities",["jquery","angular","ng-root/services/course-resources","ng-root/services"],function(e,t,i){"use strict";function n(i,n,r,o,s,a,u,c,d){function l(){n.activities=[],v.page=1}function m(){v.page+=1,n.searchActivity()}function f(e){return e.total<=e.page*e.pageSize}function p(){var e=d.search().unanswered;return r.convertParamToBool(e)}function g(){i.course.show_discussions||d.path("/announcements")}var h={pageSize:12,page:1},v=t.extend({},h);n.me=a.getMe(),n.activities=[],n.loadingActivities=!1,n.reachedTheEndOfFeed=!1,n.currentTab="discussion",n.search={isDisabled:!1,value:null,unansweredChecked:p()},u.resetLectureTaking(),e(window).trigger("showDashboard"),n.$on("$routeChangeStart",function(){n.introObj&&(n.introObj.exit(),n.introObj=null)}),i.course.id?g():n.$on("courseLoaded",g),n.$on("discussionActivities:addActivity",function(e,t){e.stopPropagation(),t.length&&(n.search.value?(n.search.value="",l(),n.loadNextPage()):Array.prototype.unshift.apply(n.activities,t))}),n.$watch("[search.value, search.unansweredChecked]",function(e){l(),e[0]||e[1]?n.searchActivity():n.loadNextPage()}),n.searchActivity=function(){n.loadingActivities=!0,s.searchDiscussionActivities(i.courseId,n.search.value,n.search.unansweredChecked,v.pageSize,v.page).then(function(e){var t=e.data;v.total=t.count,n.loadingActivities=!1,v.page<=1&&(n.activities=[]),n.activities=n.activities.concat(t.results),n.reachedTheEndOfFeed=f(v)})},n.hasNoSearchResults=function(){return!n.loadingActivities&&!n.activities.length&&!!n.search.value},n.hasNoPageResults=function(){return!n.loadingActivities&&!n.activities.length&&!n.search.value},n.loadMore=function(){n.loadingActivities||n.reachedTheEndOfFeed||(n.search.value||n.search.unansweredChecked?m():n.loadNextPage())},n.loadNextPage=function(){return n.loadPage(v.page++)},n.loadPage=function(e){return n.loadingActivities=!0,o.getDiscussions(i.courseId,i.getBeforeTime(n.activities),null).then(function(t){if(1>=e&&(n.search.isDisabled=!t.data.count,n.activities=[]),n.loadingActivities=!1,n.reachedTheEndOfFeed=!t.data.count,n.activities=n.activities.concat(t.data.results),1==e){var i="/onboarding/course-dashboard",r="/onboarding/end-dashboard-tour";c.start(i,r,function(e){n.introObj=e,n.introObj.onexit(function(){n.introObj=null})})}})}}var r=t.module("apps.courseTakingDashboard.activities.discussionActivities",["services",i.name]).controller("DiscussionActivitiesController",n);return n.$inject=["$rootScope","$scope","Utils","Activity","CourseDeprecated","User","CourseTakingDashboardService","Onboarding","$location"],r}),define("ud.utils",["jquery","jquery-migrate","ud.page"],function($){"use strict";function _appendErrorsToForm(e,t,i){i||(i="outside-error-msg");var n,r,o,s,a=$("<span>",{"class":"error-msg inside-error-msg",text:"required"}),u=$("<div>",{"class":"form-tooltip black-tooltip medium arrow-left error-msg "+i}),c=$("<span>",{"class":"arrow"});if(e)for(n in e)r=e[n],n=$.camelCase(n.replace(/_/gi,"-")),s=t.find("#form-item-"+n+" > .tooltip-reference"),o=s.find("[id^="+n+"],[id^=id_"+n+"],[udid="+n+"]"),s.addClass("field-error"),r||!o.is('input[type="text"]')&&!o.is("textarea")?r&&s.append(u.clone().html(r).append(c.clone())):s.append(a.clone())}UD.Utils=UD.Utils||{},UD.Utils.Date={parseYearWeek:function(e){var t=Math.floor(e/100),i=e%100,n=new Date(t,0,1),r=n.getDate()+7*(i-1)-n.getDay();return n.setDate(1>r?r+7:r),n}},UD.Utils.Array={pivotize:function(e,t,i,n,r){var o,s,a,u,c={},d=[],l=[],m=[],f="",p=function(e){return e.match(/^-{0,1}\d*\.{0,1}\d+$/)?"#"+e:e};for(u=0;u<e.length;u++)s=e[u],o=c[s[t]],"undefined"==typeof o&&(a={},a[t]=s[t],m.push(a),o=m.length-1,c[s[t]]=o),f=p(s[i]),-1===d.indexOf(f)&&d.push(f),m[o][f]=s[n];
for(u=0;u<m.length;u++){l[u]={},l[u][t]=m[u][t];for(var g=0;g<d.length;g++)f=d[g],l[u][f]="undefined"==typeof m[u][f]?r:m[u][f]}return l}},UD.Utils.Object={merge:function(e,t,i,n){i=i!==!1,e=i?this.clone(e):e;var r,o;for(var s in t)if(r=e[s],o=t[s],!n||void 0===r)if("object"!=typeof r||r instanceof Array||r instanceof RegExp||null===r)if(r instanceof Array&&o instanceof Array)for(var a=0,u=o.length;u>a;++a)r[a]=o[a];else e[s]="object"!=typeof o||o instanceof Array||o instanceof RegExp||null===o?o:this.clone(o);else e[s]="object"!=typeof o||o instanceof Array||o instanceof RegExp||null===o?o:arguments.callee.call(this,r,o,i,n);return e},getFieldsArray:function(e){var t=[];for(var i in e)t.push(i);return t},exclusiveMerge:function(e,t,i){return this.merge(e,t,i,!0)},clone:function(obj){var newObj={},o;for(var i in obj)o=obj[i],newObj[i]=o instanceof Array?o.concat():o instanceof RegExp?eval(o.toString()):void 0===o||null===o?o:"object"==typeof o?arguments.callee.call(this,o):o;return newObj}},UD.Utils.connect=function(e,t,i,n){if((void 0===e||null===e)&&(e=function(){}),2==arguments.length?(i=t,t=null):3==arguments.length&&(n=i,i=t,t="__context__"),e&&e.__connectedFunctions)return e.__connectedFunctions.push({func:i,context:n}),e;var r=function(){if(t="__context__"==t?this:t,e&&e.apply(t,arguments),r.__connectedFunctions)for(var i,n=0;n<r.__connectedFunctions.length;n++)i=r.__connectedFunctions[n],i.func.apply(i.context,arguments)};return r.__connectedFunctions=[{func:i,context:n}],r},UD.Utils.getFileExtension=function(e){var t=e.match(/\.([^\.\/]+)$/);return t.length>=2?t[1]:null},UD.Utils.parseLinkHeader=function(e){for(var t,i={},n=/<\s*"?(.*?)"?\s*>\s*;\s*rel\s*=\s*"(\w+)"/gi;null!==(t=n.exec(e));)i[t[2]]=t[1];return i},UD.Utils.MessageType={info:"info",error:"error"},UD.Utils.Feedback={fromText:function(e,t){t=t||UD.Utils.MessageType.info,e&&($(".header-v4>div.feedbacks-bar").remove(),$(".header-v4").append($("<div>",{"class":"feedbacks-bar ud-page","data-page-name":"feedbacks-bar"}).append($("<div>",{"class":"feedback-bar feedback-type-"+t}).append($("<div>",{"class":"feedback-container"}).append($("<p>",{"class":"message",text:e}))))),$(".feedbacks-bar").ud_page())},fromObj:function(e){UD.Utils.Feedback.fromText(e.message,e.type)},fromJqXHR:function(e,t,i){"function"==typeof i.getResponseHeader?UD.Utils.Feedback.fromText(i.getResponseHeader("X-UI-Message"),i.getResponseHeader("X-UI-Message-Type")):"function"==typeof e.getResponseHeader&&UD.Utils.Feedback.fromText(e.getResponseHeader("X-UI-Message"),e.getResponseHeader("X-UI-Message-Type"))}};var FormSelector={formError:".js-form-error"};UD.Utils.Form={fillErrors:function(e,t){var i,n=e.find(FormSelector.formError),r=t.responseJSON||t;r&&r.error&&(this.resetErrors(e),r.error.details?(i=r.error.details,i.error&&(n.html(i.error),n.removeClass("none")),$.isEmptyObject(i.invalid_items)||_appendErrorsToForm(i.invalid_items,e),$.isEmptyObject(i.invalidItems)||_appendErrorsToForm(i.invalidItems,e),$.isEmptyObject(i.warning_items)||_appendErrorsToForm(i.warning_items,e,"outside-warning-msg"),$.isEmptyObject(i.warningItems)||_appendErrorsToForm(i.warningItems,e,"outside-warning-msg")):r.error.message&&(n.html(r.error.message),n.removeClass("none")))},resetErrors:function(e){var t=e.find(FormSelector.formError);t.addClass("none"),t.empty(),e.find(".error-msg").remove(),e.find(".field-error").removeClass("field-error")}}}),define("course-taking-dashboard.app/activities/discussion/discussion-creation-pane",["angular","./../../../../directives/common/forms/module","ng-root/services/course-resources","ud.utils"],function(e,t,i){"use strict";function n(e,t,i,n,r){var o,s=null;e.discussion={title:"",content:""},e.currentLecture={},e.state={formError:o=new r,showFullView:!1,isEditing:!1,isSubmitted:!1,submitDisabled:!1},e.showDiscussionPopover=!1,e.showDiscussion=function(){e.state.showFullView=!0},e.closeDiscussion=function(){e.state.showFullView=!1,e.resetForm()},e.resetForm=function(){e.discussion.title="",e.discussion.content="",e.currentLecture=null,o.reset()},e.onSubmitContent=function(r){if(!e.state.submitDisabled){e.state.submitDisabled=!0;var a;r&&e.state.isSubmitted===!0&&(e.discussion.content=r,a=t.lectureTakingPageActive?t.lectureId:e.currentLecture?e.currentLecture.id:null,i.createDiscussion(t.courseId,a,e.discussion.content,e.discussion.title,o.ignoreWarnings(e.discussion.content,s)).then(function(i){function r(t){e.resetForm(),e.state.submitDisabled=!1,e.state.showFullView=!1;for(var r=null,o=0;o<t.data.results.length;o++){var s=t.data.results[o].action_object;if("course_discussion"==s._class&&s.id==i.data.id){r=t.data.results[o];break}}r&&n.followActivity(r).then(function(){r.is_following=!0,r.num_follows=(r.num_follows||0)+1}),e.$emit("discussionActivities:addActivity",t.data.results)}a?n.getLectureDiscussions(null,t.getAfterTime(t.discussionActivities),a).then(r):n.getDiscussions(t.courseId,null,t.getAfterTime(e.activities)).then(r)},function(t){e.state.submitDisabled=!1,o.processResponseError(t),UD.Utils.Feedback.fromObj(o.getFeedback())})),s=r}}}function r(){return{restrict:"E",replace:!0,controller:"DiscussionCreationController",scope:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/discussion/discussion-creation-pane.html"}}var o=e.module("apps.courseTakingDashboard.activities.discussionCreationPane",[t.name,i.name]).controller("DiscussionCreationController",n).directive("discussionCreationPane",r);return n.$inject=["$scope","$rootScope","CourseDeprecated","Activity","FormError"],o}),define("course-taking-dashboard.app/activities/discussion/module",["angular","./discussion-activities","./discussion-creation-pane"],function(e,t,i){"use strict";return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,i.name])}),define("course-taking-dashboard.app/activities/announcement/announcement-activities",["jquery","angular","ng-root/services"],function(e,t){"use strict";function i(t,i,n,r,o,s){t.lastPageLoaded=0,t.me=r.getMe(),t.activities=[],t.loadingActivities=!1,t.reachedTheEndOfFeed=!1,t.currentTab="announcement",o.resetLectureTaking();var a=e.Event("showDashboard");e(window).trigger(a),t.loadNextPage=function(){t.loadPage(t.lastPageLoaded+1),t.lastPageLoaded++},t.loadMore=function(){t.loadingActivities||t.reachedTheEndOfFeed||t.loadNextPage()},t.loadPage=function(){var e=n.getAnnouncements(i.courseId,i.getBeforeTime(t.activities),null);t.loadingActivities=!0,e.then(function(e){if(t.loadingActivities=!1,e.data.count||(t.reachedTheEndOfFeed=!0),t.activities=t.activities.concat(e.data.results),1==t.lastPageLoaded){var i="/onboarding/course-dashboard",n="/onboarding/end-dashboard-tour";s.start(i,n,function(e){t.introObj=e,t.introObj.onexit(function(){t.introObj=null})})}})},t.$on("$routeChangeStart",function(){t.introObj&&(t.introObj.exit(),t.introObj=null)}),t.loadNextPage()}var n=t.module("apps.courseTakingDashboard.activities.announcementActivities",["services"]).controller("AnnouncementsController",i);return i.$inject=["$scope","$rootScope","Activity","User","CourseTakingDashboardService","Onboarding"],n}),define("course-taking-dashboard.app/activities/announcement/announcement-creation-pane",["angular","./../../../../directives/common/forms/module","ng-root/services/course-resources"],function(e,t,i){"use strict";function n(e,t,i,n,r,o){e.content="",e.state={formError:new o,isEditing:!0,isSubmitted:!1,isDisabled:!1,isInitialized:!1,resetValue:!1,btnDisabled:!1},e.state.formError.setErrorMessage("");var s=null;i.isCourseAnnouncementRateLimitReached(t.courseId).success(function(t){e.state.formError.setErrorMessage(t.errorText),e.state.isDisabled=t.hasReached,e.state.isInitialized=!0}),e.state.editorValueCollectedFn=function(i){if(e.state.btnDisabled=!0,i||e.state.isSubmitted){var o=e.state.formError.ignoreWarnings(i,s);e.saveSubmittedAnnouncementDetails(i),n.createAnnouncement(t.courseId,i,o).then(function(){r.getAnnouncements(t.courseId,null,t.getAfterTime(e.activities)).then(function(t){Array.prototype.unshift.apply(e.activities,t.data.results),e.state.formError.reset()}),e.state.resetValue=!0,e.state.btnDisabled=!1},function(t){e.state.formError.processResponseError(t),e.state.resetValue=!1,e.retrieveLastSubmittedAnnouncementDetails(),e.state.btnDisabled=!1}),e.content=""}e.state.resetValue=!1,e.state.isSubmitted=!1,s=i},e.saveSubmittedAnnouncementDetails=function(t){e.submittedAnnouncementDetails={content:t}},e.retrieveLastSubmittedAnnouncementDetails=function(){e.content=e.submittedAnnouncementDetails.content}}function r(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/announcement/announcement-creation-pane.html",controller:"AnnouncementCreationCtrl"}}var o=e.module("apps.courseTakingDashboard.activities.announcementCreationPane",[t.name,i.name]).controller("AnnouncementCreationCtrl",n).directive("announcementCreationPane",r);return n.$inject=["$scope","$rootScope","User","CourseDeprecated","Activity","FormError"],o}),define("course-taking-dashboard.app/activities/announcement/module",["angular","./announcement-activities","./announcement-creation-pane"],function(e,t,i){"use strict";return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,i.name])}),define("course-taking-dashboard.app/activities/module",["angular","./discussion/module","./announcement/module"],function(e,t,i){"use strict";return e.module("apps.courseTakingDashboard.activities",[t.name,i.name])}),define("course-taking-dashboard.app/curriculum/next-quiz",["angular","ud-template","ud-translate"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{quiz:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-quiz.html"}}var i=e.module("apps.courseTakingDashboard.curriculum.nextQuiz",["udTemplate","udTranslate"]).directive("nextQuiz",t);return i}),define("course-taking-dashboard.app/curriculum/next-lecture",["angular","ud-template","ud-translate"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{lecture:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-lecture.html",link:function(e){e.showPlayIcon=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type&&"Audio"!=e.lecture.asset.type&&"Presentation"!=e.lecture.asset.type&&"VideoMashup"!=e.lecture.asset.type?!1:!0},e.showRemaining=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type?!0:e.lecture.timeEstimate.duration>0},e.remainingMinutes=function(){if(e.lecture){if("Video"==e.lecture.asset.type||"ImportContent"==e.lecture.asset.type||"VideoMashup"==e.lecture.asset.type||"Audio"==e.lecture.asset.type)return e.lecture.timeEstimate.duration-e.lecture.startPosition;if("Article"==e.lecture.asset.type||"Document"==e.lecture.asset.type)return e.lecture.timeEstimate.duration}return 0},e.remainingSlides=function(){return e.lecture&&e.lecture.asset&&"Presentation"==e.lecture.asset.type?e.lecture.asset.data.numberOfSlides-e.lecture.startPosition:0},e.getCurrentLectureIcon=function(){var t={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",WufooSurvey:"icon-ok",File:"icon-file-alt",IFrame:"icon-retweet",SCORM:"icon-retweet",Locked:""},i="";return i=e.lecture&&e.lecture.asset&&e.lecture.asset.type?t[e.lecture.asset.type]:"icon-play-sign"}}}}var i=e.module("apps.courseTakingDashboard.curriculum.nextLecture",["udTemplate","udTranslate"]).directive("nextLecture",t);return i}),define("course-taking-dashboard.app/curriculum/curriculum-quiz",["angular","ud-template","ud-translate"],function(e){"use strict";function t(e,t){return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-quiz.html",scope:{elementData:"="},link:function(i){i.getQuizHref=function(){return i.elementData.isLocked?"javascript:void(0);":e("fixurl")(i.elementData.url)},i.getCompletionRatio=function(){return t.completionRatio(i.elementData)},i.isCompleted=function(){return t.isCompleted(i.elementData)},i.isStarted=function(){return t.isStarted(i.elementData)},i.isActive=function(){return t.isActive(i.elementData)}}}}var i=e.module("apps.courseTakingDashboard.curriculum.quiz",["udTemplate","udTranslate"]).directive("curriculumQuiz",t);return t.$inject=["$filter","CourseTakingDashboardService"],i}),define("course-taking-dashboard.app/curriculum/curriculum-lecture",["angular","ud-template","ud-translate"],function(e){"use strict";function t(e,t){return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-lecture.html",scope:{elementData:"="},link:function(i){i.getCurrentLectureIcon=function(){var e={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",WufooSurvey:"icon-ok",File:"icon-file-alt",IFrame:"icon-retweet",SCORM:"icon-retweet",Locked:""};return i.elementData.asset&&i.elementData.asset.type?e[i.elementData.asset.type]:""},i.getLectureHref=function(){return i.elementData.isLocked?"javascript:void(0);":e("fixurl")(i.elementData.url)},i.getCompletionRatio=function(){return t.completionRatio(i.elementData)},i.isCompleted=function(){return t.isCompleted(i.elementData)},i.isStarted=function(){return t.isStarted(i.elementData)},i.isActive=function(){return t.isActive(i.elementData)}}}}var i=e.module("apps.courseTakingDashboard.curriculum.lecture",["udTemplate","udTranslate"]).directive("curriculumLecture",t);return t.$inject=["$filter","CourseTakingDashboardService"],i}),define("course-taking-dashboard.app/curriculum/dashboard-instructor",["angular","ud-template"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{instructor:"=",showTitle:"=",isVisible:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/dashboard-instructor.html"}}var i=e.module("apps.courseTakingDashboard.curriculum.instructor",["udTemplate"]).directive("dashboardInstructor",t);return i}),define("course-taking-dashboard.app/curriculum/email-setting",["angular","ud-template","ud-translate","ng-root/services/course-resources"],function(e,t,i,n){"use strict";function r(e,t,i){e.mapping=[],e.mapping["lecture-notification"]=i.getString("New Lecture Emails"),e.mapping["new-course-announcement"]=i.getString("New Announcement Emails"),e.mapping["send-asset-ready"]=i.getString("Lecture Ready Emails"),e.mapping["subscriber-notification"]=i.getString("New Student Emails"),e.mapping["new-review-instructor-notification"]=i.getString("New Course Review Emails"),e.mapping["daily-discussions-digest"]=i.getString("Daily Discussions Emails"),e.mapping["new-course-promotion"]=i.getString("Promotional Emails"),e.updateCourseSetting=function(){t.updateSetting(e.courseId,e.settingKey,e.settingValue?"on":"off")}}function o(){return{controller:r,restrict:"E",replace:!0,transclude:!0,scope:{courseId:"=",settingKey:"=",settingValue:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/email-setting.html",link:function(e){e.settingText=e.mapping[e.settingKey]}}}var s=e.module("apps.courseTakingDashboard.curriculum.emailSetting",[t.name,i.name,n.name]).directive("emailSetting",o);return r.$inject=["$scope","CourseDeprecated","gettextCatalog"],s}),define("course-taking-dashboard.app/curriculum/module",["angular","./next-quiz","./next-lecture","./curriculum-quiz","./curriculum-lecture","./dashboard-instructor","./email-setting"],function(e,t,i,n,r,o,s){"use strict";return e.module("apps.courseTakingDashboard.curriculum",[t.name,i.name,n.name,r.name,o.name,s.name])}),define("course-taking-dashboard.app/course-learning-goal/learning-goal-services",["angular"],function(e){"use strict";function t(e){var t="/api-2.0/courses/{{courseId}}/course-learning-goals";return new e(t)}function i(e){var t="/api-2.0/courses/{{courseId}}/students/me/student-learning-goals";return new e(t)}function n(e){var t="/api-2.0/courses/{{courseId}}/students/me/student-learning-goal-statuses";return new e(t)}function r(e,t){function i(i){function n(n){var r=t(i)({courseId:n});return e({url:r,method:"GET"}).then(function(e){return e.data.results})}function r(n,r){var o="POST",s=t(i)({courseId:n});return r.id&&(s+="/"+r.id,o="PUT"),e({url:s,method:o,data:r}).then(function(e){return e.data})}function o(n,r){var o=t(i)({courseId:n})+"/"+r;return e({url:o,method:"DELETE"}).then(function(e){return e.data})}return{find:n,save:r,remove:o}}return i}var o=e.module("apps.courseTakingDashboard.learningGoalServices",[]).factory("CourseLearningGoal",t).factory("StudentLearningGoal",i).factory("LearningGoalBaseApi",r).factory("StudentLearningGoalStatus",n);return t.$inject=["LearningGoalBaseApi"],i.$inject=["LearningGoalBaseApi"],n.$inject=["LearningGoalBaseApi"],r.$inject=["$http","$interpolate"],o}),define("course-taking-dashboard.app/course-learning-goal/learning-goal-manager",["underscore","angular","./learning-goal-services"],function(e,t,i){"use strict";function n(i,n,r,o,a,u){function c(s,c){function f(i){var n=!1;return(i.id||i.text)&&(n=t.isUndefined(e.findWhere(x,{id:i.id,custom_goal:i.text}))),n}function p(){return i.all([u.find(c),a.find(c),o.find(c)]).then(function(e){return h({learningGoalStatus:e[0][0],studentLearningGoals:e[1],courseLearningGoals:e[2]}),_.displayGoals})}function g(){return i.all([u.find(c),a.find(c)]).then(function(e){return h({learningGoalStatus:e[0][0],studentLearningGoals:e[1]}),_.displayGoals})}function h(t){t&&(k=t.learningGoalStatus,T=t.courseLearningGoals,x=t.studentLearningGoals),!k&&e.isEmpty(x)?(_.mode=n.EDIT,w()):k?k.is_skipped?(_.mode=n.SKIPPED,w()):_.displayGoals=x.map(y):_.mode=n.EDIT,_.displayGoals.push(b()),e.each(_.displayGoals,function(e){e.placeholder=d(s)}),k||(k={is_skipped:!1})}function v(e){return{text:e.value,is_completed:!1,placeholder:d(s)}}function y(e){return{text:e.custom_goal,is_completed:e.is_completed,placeholder:d(s),id:e.id}}function b(){return{text:"",is_completed:!1,placeholder:d(s)}}function w(){s===r.PREDEFINED?T&&(_.displayGoals=T.filter(m).map(v)):s===r.USER_GOAL&&(_.displayGoals=[b(),b()])}var _=this,k=null,T=null,x=null,E=[];_.mode=n.VIEW,_.displayGoals=[],_.loadExperimentGoals=function(){var e;switch(s){case r.PREDEFINED:e=p();break;case r.USER_GOAL:e=g()}return e},_.syncGoals=function(t){var n=e.filter(t,f).map(_.saveGoal).concat(E.map(_.deleteGoal));return k.is_skipped=!1,n.push(_.saveLearningGoalStatus(k)),i.all(n).then(function(){E=[]})},_.addGoal=function(){_.displayGoals.push(b())},_.removeGoal=function(t){_.displayGoals=e.reject(_.displayGoals,function(e){var i=!1;return t.$$hashKey===e.$$hashKey&&(t.id&&E.push(t),i=!0),i})},_.skipGoals=function(){return k.is_skipped=!0,u.save(c,k).then(function(e){k=e,h()})},_.saveGoal=function(e){var t=l(e);return a.save(c,t).then(function(t){return e.id||(e.id=t.id,x.push(t)),t})},_.deleteGoal=function(t){return a.remove(c,t.id).then(function(i){return e.reject(x,function(e){return e.id===t.id}),i})},_.saveLearningGoalStatus=function(e){return u.save(c,e).then(function(e){k=e})},_.getMode=function(){return _.mode}}function d(e){return e===r.PREDEFINED?s.PREDEFINED:s.USER_GOAL}function l(e){return{id:e.id,custom_goal:e.text,is_completed:e.is_completed}}function m(e){return e.value}return c}var r={SKIPPED:"skipped",EDIT:"edit",VIEW:"view"},o={PREDEFINED:1,USER_GOAL:2},s={PREDEFINED:"Type in a new goal...",USER_GOAL:"I want to be able to..."},a=t.module("apps.courseTakingDashboard.learningGoalManager",[i.name]).value("GOAL_VIEW_MODE",r).value("GOAL_EXP",o).value("GOAL_PLACEHOLDER_TEXT",s).factory("LearningGoalManager",n);return n.$inject=["$q","GOAL_VIEW_MODE","GOAL_EXP","CourseLearningGoal","StudentLearningGoal","StudentLearningGoalStatus"],a}),define("course-taking-dashboard.app/course-learning-goal/learning-goal",["underscore","angular","ud-translate","../../../directives/common/fields/module","./learning-goal-services","./learning-goal-manager"],function(e,t,i,n,r,o){"use strict";function s(i,n,r,o,s){function a(){var e=m.loadExperimentGoals();e&&e.then(d)}function u(t){return t=e.reject(t,function(e){return""===e.text}),e.every(t,function(e){return e.is_completed})}function c(){var i=e.reject(m.displayGoals,function(e){return""===e.text});return!m.is_skipped&&i.length>0&&e.every(i,function(e){return t.isDefined(e.id)})}function d(){i.hasSavedGoals=c(),i.displayTest=!0}var l=parseInt(n.courseId),m=new r(n.courseLearningExperimentId,l);i.displayTest=!1,i.allGoalsComplete=u(m.displayGoals),i.incompleteText=s.getString("Check off your goals as you finish them"),i.completeText=s.getString("Congratulations, you achieved all your goals for this course!"),i.isSkipped=m.is_skipped,i.saveGoals=function(){m.syncGoals(i.getViewGoals()).then(function(){i.hasSavedGoals=c()}),i.switchToViewMode()},i.skipGoals=function(){m.skipGoals().then(i.switchToSkippedMode)},i.goalAccomplished=function(e){m.saveGoal(e)},i.filterEmptyGoalFn=function(){return function(e){return t.isDefined(e.id)}},i.completedEditingGoal=function(e,t){e.text&&t&&i.addGoal()},i.getViewGoals=function(){return m.displayGoals},i.removeGoal=function(e){m.removeGoal(e)},i.addGoal=function(){m.addGoal()},i.switchToEditMode=function(){m.mode=o.EDIT},i.switchToSkippedMode=function(){m.mode=o.SKIPPED},i.switchToViewMode=function(){m.mode=o.VIEW},i.getGoalTemplateUrl=function(){return"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/goal-templates/"+m.getMode()+".html"},i.$watch(function(){return m.displayGoals},function(e){i.allGoalsComplete=u(e)},!0),a()}function a(){return{scope:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/learning-goal.html",controller:"CourseLearningGoalController"}}function u(){return{restrict:"E",replace:!0,scope:{goal:"=",goalClick:"&"},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/course-learning-goal/goal-component.tpl.html",link:function(e){e.markAndNotify=function(){e.goal.is_completed=!e.goal.is_completed,t.isDefined(e.goalClick)&&e.goalClick({goal:e.goal})}}}}var c=t.module("apps.courseTakingDashboard.learningGoal",[i.name,n.name,r.name,o.name]).directive("learningGoalTest",a).directive("goalComponent",u).controller("CourseLearningGoalController",s);return s.$inject=["$scope","$rootScope","LearningGoalManager","GOAL_VIEW_MODE","gettextCatalog"],c}),define("course-taking-dashboard.app/course-learning-goal/module",["angular","./learning-goal","./learning-goal-services"],function(e,t,i){"use strict";return e.module("apps.courseTakingDashboard.courseLearningGoal",[t.name,i.name])}),define("course-taking-dashboard.app/review/review",["angular","jquery","ud-template","ud-translate","ng-root/services/course-resources","ud-me","ud-link","ud.utils"],function(e,t,i,n,r,o,s){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/review/review.html",scope:{},controller:["$scope","$rootScope","$location","CourseReview","gettextCatalog",function(e,i,n,r,a){function u(i){e.courseReview=i,t.fancybox.close()}function c(e){UD.Utils.Feedback.fromText(e,"error")}var d=a.getString("Error happened while saving your review. Please submit your review again."),l=a.getString("It looks like you forgot to choose a star rating. Please click on a star and submit your review again."),m=n.absUrl(),f=new RegExp(/rating=([1-5])/).exec(m);e.showReview=null!==f,e.courseReview={isTemporary:!0},r.get({courseId:i.courseId,"fields[course_review]":"@min",user:o.id},function(t){if(t.results.length>0)e.courseReview=t.results[0];else if(e.showReview){var i=Number(f[1]);i>0&&6>i&&(e.courseReview.rating=i)}}),e.isAddEnabled=function(){return!i.isInstructor&&e.courseReview.isTemporary},e.isUpdateEnabled=function(){return!i.isInstructor&&!e.courseReview.isTemporary},e.setTemporaryReviewStars=function(t,i){i.stopPropagation(),e.courseReview.rating=t},e.isStarOn=function(t){return e.courseReview&&e.courseReview.rating>=t},e.submitNewReview=function(){return"undefined"==typeof e.courseReview.rating?c(l):void r.save({courseId:i.courseId,"fields[course_review]":"@min"},{rating:e.courseReview.rating,title:e.courseReview.title,content:e.courseReview.content},u,c.bind(this,d))},e.updateReview=function(){r.update({courseId:i.courseId,reviewId:e.courseReview.id,"fields[course_review]":"@min"},{rating:e.courseReview.rating,title:e.courseReview.title,content:e.courseReview.content},u,c.bind(this,d))},e.deleteReview=function(){window.confirm(a.getString("Are you sure you want to delete your review?"))&&r["delete"]({courseId:i.courseId,reviewId:e.courseReview.id},function(){e.courseReview.isTemporary=!0},c.bind(this,d))},e.reviewLink=i.courseId?s.to("course","reviews-popup",{courseId:i.courseId}):""}]}}var u=e.module("apps.courseTakingDashboard.review",[i.name,n.name,r.name]).directive("review",a);return u}),define("ng-root/services/course-quality/review-service",["angular","angular-resource"],function(e){"use strict";function t(e,t,i){var n=this;n.getReviews=function(i){return e({url:"/api-2.0/quality-review-processes/",method:"GET",params:i}).then(function(e){return e.data.results=e.data.results.map(function(e){return new t(e)}),e.data})},n.scorecards=i("/api-2.0/scorecards/"),n.getReviewForCourse=function(i){return e({url:"/api-2.0/quality-review-processes/",method:"GET",params:{course_id:i}}).then(function(e){var i=e.data.results;return i.length>0?new t(i[0]):null})},n.setReview=function(i,n){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+i,data:{status:n}}).then(function(e){return new t(e.data)})}}function i(e){function t(t){this.admin_rating=t.admin_rating,this.id=t.id,this.all_reviewers=(t.all_reviewers||[]).filter(function(e){return""!==e.name}).map(function(e){return e.name}),this.first_review_date=t.first_review_date,this.last_review_date=t.last_review_date,this.reviewer_id=(t.reviewer_user||{id:""}).id,this.reviewer=(t.reviewer_user||{name:""}).name,this.scorecard_id=(t.scorecard||{id:""}).id,this.scorecard_title=(t.scorecard||{title:"No Scorecard"}).title,this.status=t.status,this.waiting_since=(t.oldest_waiting_comment||{created:""}).created,this.when_submitted=t.status===e.resubmitted?t.modified:t.created,this.course={id:t.course.id,backdoor_login_url:t.course.backdoor_login_url,category:(t.course.primary_category||{title:"None"}).title,created:t.course.created,image:t.course.image_125_H,instructor_email:t.course.visible_instructors.length>0?t.course.visible_instructors[0].email:"",instructor_image:t.course.visible_instructors.length>0?t.course.visible_instructors[0].image_50x50:"",instructor_name:t.course.visible_instructors.length>0?t.course.visible_instructors[0].name:"",instructor_url:t.course.visible_instructors.length>0?t.course.visible_instructors[0].url:"",is_private:t.course.is_private?"Yes":"No",is_banned:0===t.admin_rating,locale:(t.course.locale||{title:""}).title,num_lectures:t.course.num_published_lectures||0,num_quizzes:t.course.num_quizzes,title:t.course.title,url:t.course.url}}return t}var n={draft:"draft",needs_fixes:"needs_fixes",submitted:"submitted_for_review",resubmitted:"resubmitted",in_review:"in_review",in_final_review:"submitted_for_final_review",waiting:"waiting_for_reply",approved:"approved"};return e.module("apps.reviewAdminInbox.reviewService",["ngResource"]).constant("REVIEW_STATUS",n).factory("Review",["REVIEW_STATUS",i]).service("reviewService",["$http","Review","$resource",t])}),define("ng-root/services/course-quality/feedback-service",["angular","./review-service","ud-me"],function(e,t,i){"use strict";function n(e,t,n,r){var o=this;o.reviewId="",o.reviewStatus="",o.needsFixFeedbacksUnresolved=0,o.acceptableFeedbacksUnresolved=0,o.getFeedbacks=function(){return e({method:"GET",url:"/api-2.0/quality-review-processes/"+o.reviewId+"/quality-criteria-feedbacks",params:{"fields[quality_criteria]":"@min,solution_url,solution_text"}}).then(function(e){return e.data.results.map(function(e){return o.simplifiedFeedback(e)})})},o.updateIsFixed=function(t,i){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+o.reviewId+"/quality-criteria-feedbacks/"+t.id,data:{is_marked_as_fixed:i}})},o.submitReview=function(){return r.setReview(o.reviewId,n.resubmitted)},o.isResolved=function(e){return e.isMarkedAsFixed||o.instructorRepliedMostRecently(e)},o.instructorRepliedMostRecently=function(e){var t=e.comments;return t&&t.length>0&&t[0].user.id==i.id},o.instructorRepliedOnce=function(e){for(var t=e.comments||[],n=0;n<t.length;n++)if(t[n].user.id==i.id)return!0;return!1},o.reviewerRepliedMostRecently=function(e){return e.comments&&e.comments.length>0&&!o.instructorRepliedMostRecently(e)},o.resolveFeedback=function(e){o.isResolved(e)||(e.rating===t.needs_fix?o.needsFixFeedbacksUnresolved-=1:e.rating===t.acceptable&&(o.acceptableFeedbacksUnresolved-=1))},o.addUnresolvedFeedback=function(e){o.isResolved(e)||(e.rating===t.needs_fix?o.needsFixFeedbacksUnresolved+=1:e.rating===t.acceptable&&(o.acceptableFeedbacksUnresolved+=1))},o.simplifiedFeedback=function(e){return{comments:e.comment_thread.comments,commentThreadId:e.comment_thread.id,created:e.created,id:e.id,isMarkedAsFixed:e.is_marked_as_fixed,isOpen:!1,rating:e.rating,solutionText:e.quality_criteria.solution_text,solutionUrl:e.quality_criteria.solution_url,title:e.quality_criteria.title}}}var r={needs_fix:"needs_fix",acceptable:"acceptable",exceptional:"exceptional"};return e.module("services.qualityFeedback.feedbackService",[t.name]).constant("FEEDBACK_RATING",r).service("feedbackService",["$http","FEEDBACK_RATING","REVIEW_STATUS","reviewService",n])}),define("course-taking-dashboard.app/quality-feedback/quality-feedback-controller",["angular","ng-root/services/course-quality/feedback-service"],function(e,t){"use strict";function i(e,t,i){e.needsFixFeedbacksUnresolved=0,e.init=function(n){n&&(i.reviewId=n,i.getFeedbacks().then(function(n){e.needsFixFeedbacksUnresolved=n.filter(function(e){return e.rating===t.needs_fix&&!i.isResolved(e)}).length}))}}return e.module("apps.courseTakingDashboard.qualityFeedbackController",[t.name]).controller("QualityFeedbackController",["$scope","FEEDBACK_RATING","feedbackService",i])}),define("course-taking-dashboard.app/app",["angular","angular-animate","angular-route","angular-timer","ui-bootstrap","../../ud-core","../../config/http-interceptors","../../services","../../filters","../../directives-common","../../directives-activity","../../libs/module","./dashboard/module","./free-preview/module","./activities/module","./curriculum/module","./course-learning-goal/module","./review/review","./quality-feedback/quality-feedback-controller"],function(e,t,i,n,r,o,s,a,u,c,d,l,m,f,p,g,h,v,y){"use strict";var b=e.module("apps.courseTakingDashboard",["ngAnimate","ngRoute","timer","ui.bootstrap","libs",o.name,"controllers","directives.common","filters","directives",m.name,f.name,p.name,g.name,h.name,v.name,y.name]).config(["$routeProvider",function(e){e.when("/",{controller:"DiscussionActivitiesController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/discussions",{controller:"DiscussionActivitiesController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/announcements",{controller:"AnnouncementsController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html"}).when("/lecture/:id",w).when("/quiz/:id",w).when("/chapter/:id",w).otherwise({redirectTo:"/"})}]).config(s),w={resolve:{initService:["$route","$location","CourseTakingDashboardService",function(e,t,i){var n=e.current.params.id.split(":")[0],r=t.$$path.match(/\/(.*?)\/(.*)/)[1];
return i.initLectureTaking(n,r),!0}]}};return b});
//# sourceMappingURL=app.js
//# sourceMappingURL=app.js.map